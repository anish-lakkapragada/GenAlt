/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={403:(e,t,r)=>{var n=r(219);const a="Generating Caption",i=()=>{console.log("running main again"),function(){let e=document.getElementsByTagName("img");for(let t=0;t<e.length;t++){let r=e[t];console.log(`this is image alt: ${r.alt}`),r.alt.length<15&&(console.log(`setting ${r.src} to default alternate text`),r.alt=a)}}(),async function(){let e=document.getElementsByTagName("img");const t=[];for(let r=0;r<e.length;r++){let i=e[r];i.alt==a&&(console.log("describe this image"),t.push((0,n.M)(i.src).then((e=>{null!=e&&(console.log(`new caption text : ${e.text}`),i.alt=e.text)}))))}await Promise.all(t)}(),console.log("clean up done")};window.addEventListener("load",i),window.onchange=i},219:(e,t,r)=>{r.d(t,{M:()=>a}),r(641);const n=new(0,r(574).FV)(new(0,r(62).Ct)({inHeader:{"Ocp-Apim-Subscription-Key":"b3de7b620efc415facf2afb1968b7d38"}}),"https://genalt-api.cognitiveservices.azure.com/");async function a(e){let t=null;try{t=(await n.describeImage(e)).captions[0],console.log(`This may be ${t.text} (${t.confidence.toFixed(2)} confidence)`)}catch(e){console.log("Error: "+e)}return console.log(`This is the url ${e}`),t}},574:(e,t,r)=>{r.d(t,{FV:()=>Gt});var n={};r.r(n),r.d(n,{AdultInfo:()=>L,AnalyzeResults:()=>ge,Appearance:()=>de,AreaOfInterestResult:()=>se,BoundingRect:()=>$,Category:()=>k,CategoryDetail:()=>D,CelebritiesModel:()=>M,ColorInfo:()=>j,ComputerVisionError:()=>pe,ComputerVisionErrorResponse:()=>ce,ComputerVisionInnerError:()=>le,ComputerVisionOcrError:()=>be,DetectResult:()=>K,DetectedBrand:()=>G,DetectedObject:()=>W,DomainModelResults:()=>te,FaceDescription:()=>F,FaceRectangle:()=>x,ImageAnalysis:()=>X,ImageCaption:()=>V,ImageDescription:()=>Y,ImageDescriptionDetails:()=>H,ImageMetadata:()=>J,ImageTag:()=>U,ImageType:()=>B,ImageUrl:()=>ue,LandmarksModel:()=>A,Line:()=>he,ListModelsResult:()=>ee,ModelDescription:()=>Z,ObjectHierarchy:()=>Q,OcrLine:()=>ne,OcrRegion:()=>ae,OcrResult:()=>ie,OcrWord:()=>re,ReadHeaders:()=>Ne,ReadInStreamHeaders:()=>Se,ReadOperationResult:()=>ve,ReadResult:()=>ye,Style:()=>me,TagResult:()=>oe,Word:()=>fe});var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},a(e,t)};function i(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o,s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};function u(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function c(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}var m=new Uint8Array(16);function d(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(m)}const f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(e){return"string"==typeof e&&f.test(e)};for(var y=[],g=0;g<256;++g)y.push((g+256).toString(16).substr(1));const v=function(e,t,r){var n=(e=e||{}).random||(e.rng||d)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase();if(!h(r))throw TypeError("Stringified UUID is invalid");return r}(n)};function b(e){var t={};return t.body=e.bodyAsText,t.headers=e.headers,t.status=e.status,t}function N(e){var t=e.clone();return t.headers&&t.headers.remove("authorization"),t}function S(){return v()}function w(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))}"undefined"!=typeof process&&process.version&&process.versions&&process.versions.node;var E=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function z(e,t,r){return e&&t?e.split(t).join(r||""):e}var P=function(){function e(e,t){void 0===e&&(e={}),this.modelMappers=e,this.isXML=t}return e.prototype.validateConstraints=function(e,t,r){var n=function(e,n){throw new Error('"'+r+'" with value "'+t+'" should satisfy the constraint "'+e+'": '+n+".")};if(e.constraints&&null!=t){var a=e.constraints,i=a.ExclusiveMaximum,o=a.ExclusiveMinimum,s=a.InclusiveMaximum,u=a.InclusiveMinimum,l=a.MaxItems,p=a.MaxLength,c=a.MinItems,m=a.MinLength,d=a.MultipleOf,f=a.Pattern,h=a.UniqueItems;if(null!=i&&t>=i&&n("ExclusiveMaximum",i),null!=o&&t<=o&&n("ExclusiveMinimum",o),null!=s&&t>s&&n("InclusiveMaximum",s),null!=u&&t<u&&n("InclusiveMinimum",u),null!=l&&t.length>l&&n("MaxItems",l),null!=p&&t.length>p&&n("MaxLength",p),null!=c&&t.length<c&&n("MinItems",c),null!=m&&t.length<m&&n("MinLength",m),null!=d&&t%d!=0&&n("MultipleOf",d),f){var y="string"==typeof f?new RegExp(f):f;"string"==typeof t&&null!==t.match(y)||n("Pattern",f)}h&&t.some((function(e,t,r){return r.indexOf(e)!==t}))&&n("UniqueItems",h)}},e.prototype.serialize=function(e,t,r){var n={},a=e.type.name;r||(r=e.serializedName),null!==a.match(/^Sequence$/gi)&&(n=[]),e.isConstant&&(t=e.defaultValue);var i=e.required,o=e.nullable;if(i&&o&&void 0===t)throw new Error(r+" cannot be undefined.");if(i&&!o&&null==t)throw new Error(r+" cannot be null or undefined.");if(!i&&!1===o&&null===t)throw new Error(r+" cannot be null.");return null==t?n=t:(this.validateConstraints(e,t,r),null!==a.match(/^any$/gi)?n=t:null!==a.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/gi)?n=function(e,t,r){if(null!=r)if(null!==e.match(/^Number$/gi)){if("number"!=typeof r)throw new Error(t+" with value "+r+" must be of type number.")}else if(null!==e.match(/^String$/gi)){if("string"!=typeof r.valueOf())throw new Error(t+' with value "'+r+'" must be of type string.')}else if(null!==e.match(/^Uuid$/gi)){if("string"!=typeof r.valueOf()||(a=r,!new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","ig").test(a)))throw new Error(t+' with value "'+r+'" must be of type string and a valid uuid.')}else if(null!==e.match(/^Boolean$/gi)){if("boolean"!=typeof r)throw new Error(t+" with value "+r+" must be of type boolean.")}else if(null!==e.match(/^Stream$/gi)){var n=typeof r;if(!("string"===n||"function"===n||r instanceof ArrayBuffer||ArrayBuffer.isView(r)||"function"==typeof Blob&&r instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.")}var a;return r}(a,r,t):null!==a.match(/^Enum$/gi)?n=function(e,t,r){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!t.some((function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===r.toLowerCase():e===r})))throw new Error(r+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".");return r}(r,e.type.allowedValues,t):null!==a.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/gi)?n=function(e,t,r){if(null!=t)if(null!==e.match(/^Date$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/gi)){if(!function(e){return E.test(e)}(t))throw new Error(r+' must be a string in ISO 8601 format. Instead was "'+t+'".');t=t}return t}(a,t,r):null!==a.match(/^ByteArray$/gi)?n=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=p(t)}return t}(r,t):null!==a.match(/^Base64Url$/gi)?n=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=function(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e,t){for(var r=e.length;r-1>=0&&"="===e[r-1];)--r;return e.substr(0,r)}(p(e)).replace(/\+/g,"-").replace(/\//g,"_")}}(t)}return t}(r,t):null!==a.match(/^Sequence$/gi)?n=function(e,t,r,n){if(!Array.isArray(r))throw new Error(n+" must be of type Array.");var a=t.type.element;if(!a||"object"!=typeof a)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n+".");for(var i=[],o=0;o<r.length;o++)i[o]=e.serialize(a,r[o],n);return i}(this,e,t,r):null!==a.match(/^Dictionary$/gi)?n=function(e,t,r,n){if("object"!=typeof r)throw new Error(n+" must be of type object.");var a=t.type.value;if(!a||"object"!=typeof a)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n+".");for(var i={},o=0,s=Object.keys(r);o<s.length;o++){var u=s[o];i[u]=e.serialize(a,r[u],n+"."+u)}return i}(this,e,t,r):null!==a.match(/^Composite$/gi)&&(n=function(e,t,r,n){var a;if(O(e,t)&&(t=T(e,t,r,"clientName")),null!=r){for(var i={},o=q(e,t,n),s=0,u=Object.keys(o);s<u.length;s++){var l=u[s],p=o[l];if(!p.readOnly){var c=void 0,m=i;if(e.isXML)c=p.xmlIsWrapped?p.xmlName:p.xmlElementName||p.xmlName;else{var d=R(p.serializedName);c=d.pop();for(var f=0,h=d;f<h.length;f++){var y=h[f];null==m[y]&&null!=r[l]&&(m[y]={}),m=m[y]}}if(null!=m){var g=""!==p.serializedName?n+"."+p.serializedName:n,v=r[l],b=O(e,t);b&&b.clientName===l&&null==v&&(v=t.serializedName);var N=e.serialize(p,v,g);void 0!==N&&null!=c&&(p.xmlIsAttribute?(m.$=m.$||{},m.$[c]=N):p.xmlIsWrapped?m[c]=((a={})[p.xmlElementName]=N,a):m[c]=N)}}}var S=t.type.additionalProperties;if(S){var w=Object.keys(o),E=function(t){w.every((function(e){return e!==t}))&&(i[t]=e.serialize(S,r[t],n+'["'+t+'"]'))};for(var z in r)E(z)}return i}return r}(this,e,t,r))),n},e.prototype.deserialize=function(e,t,r){if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;var n,a=e.type.name;return r||(r=e.serializedName),null!==a.match(/^Composite$/gi)?n=function(e,t,r,n){O(e,t)&&(t=T(e,t,r,"serializedName"));for(var a=q(e,t,n),i={},o=[],s=0,u=Object.keys(a);s<u.length;s++){var l=u[s],p=a[l],c=R(a[l].serializedName);o.push(c[0]);var m=p.serializedName,d=p.xmlName,f=p.xmlElementName,h=n;""!==m&&void 0!==m&&(h=n+"."+m);var y=p.headerCollectionPrefix;if(y){for(var g={},v=0,b=Object.keys(r);v<b.length;v++){var N=b[v];N.startsWith(y)&&(g[N.substring(y.length)]=e.deserialize(p.type.value,r[N],h)),o.push(N)}i[l]=g}else if(e.isXML)if(p.xmlIsAttribute&&r.$)i[l]=e.deserialize(p,r.$[d],h);else{var S=r[f||d||m];p.xmlIsWrapped&&void 0===(S=(S=r[d])&&S[f])&&(S=[]),i[l]=e.deserialize(p,S,h)}else{for(var w=void 0,E=r,z=0,P=c;z<P.length;z++){var C=P[z];if(!E)break;E=E[C]}w=E;var _=t.type.polymorphicDiscriminator;_&&l===_.clientName&&null==w&&(w=t.serializedName);var I=void 0;if(Array.isArray(r[l])&&""===a[l].serializedName){w=r[l];for(var x=e.deserialize(p,w,h),M=0,A=Object.entries(i);M<A.length;M++){var D=A[M],k=D[0],L=D[1];x.hasOwnProperty(k)||(x[k]=L)}i=x}else void 0===w&&void 0===p.defaultValue||(I=e.deserialize(p,w,h),i[l]=I)}}var j=t.type.additionalProperties;if(j){var B=function(e){for(var t in a)if(R(a[t].serializedName)[0]===e)return!1;return!0};for(var U in r)B(U)&&(i[U]=e.deserialize(j,r[U],n+'["'+U+'"]'))}else if(r)for(var V=0,H=Object.keys(r);V<H.length;V++)void 0!==i[l=H[V]]||o.includes(l)||["$","_"].includes(l)||(i[l]=r[l]);return i}(this,e,t,r):(this.isXML&&null!=t.$&&null!=t._&&(t=t._),null!==a.match(/^Number$/gi)?(n=parseFloat(t),isNaN(n)&&(n=t)):null!==a.match(/^Boolean$/gi)?n="true"===t||"false"!==t&&t:null!==a.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/gi)?n=t:null!==a.match(/^(Date|DateTime|DateTimeRfc1123)$/gi)?n=new Date(t):null!==a.match(/^UnixTime$/gi)?n=function(e){if(e)return new Date(1e3*e)}(t):null!==a.match(/^ByteArray$/gi)?n=c(t):null!==a.match(/^Base64Url$/gi)?n=function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return c(e=e.replace(/\-/g,"+").replace(/\_/g,"/"))}}(t):null!==a.match(/^Sequence$/gi)?n=function(e,t,r,n){var a=t.type.element;if(!a||"object"!=typeof a)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n);if(r){Array.isArray(r)||(r=[r]);for(var i=[],o=0;o<r.length;o++)i[o]=e.deserialize(a,r[o],n+"["+o+"]");return i}return r}(this,e,t,r):null!==a.match(/^Dictionary$/gi)&&(n=function(e,t,r,n){var a=t.type.value;if(!a||"object"!=typeof a)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n);if(r){for(var i={},o=0,s=Object.keys(r);o<s.length;o++){var u=s[o];i[u]=e.deserialize(a,r[u],n)}return i}return r}(this,e,t,r))),e.isConstant&&(n=e.defaultValue),n},e}();function R(e){var t=[],r="";if(e)for(var n=0,a=e.split(".");n<a.length;n++){var i=a[n];"\\"===i.charAt(i.length-1)?r+=i.substr(0,i.length-1)+".":(r+=i,t.push(r),r="")}return t}function q(e,t,r){var n=t.type.modelProperties;if(!n){var a=t.type.className;if(!a)throw new Error('Class name for model "'+r+'" is not provided in the mapper "'+JSON.stringify(t,void 0,2)+'".');var i=e.modelMappers[a];if(!i)throw new Error('mapper() cannot be null or undefined for model "'+a+'".');if(!(n=i.type.modelProperties))throw new Error('modelProperties cannot be null or undefined in the mapper "'+JSON.stringify(i)+'" of type "'+a+'" for object "'+r+'".')}return n}function T(e,t,r,n){var a=O(e,t);if(a){var i=a[n];if(null!=i){var o=r[i];if(null!=o){var s=t.type.uberParent||t.type.className,u=o===s?o:s+"."+o,l=e.modelMappers.discriminators[u];l&&(t=l)}}}return t}function O(e,t){return t.type.polymorphicDiscriminator||C(e,t.type.uberParent)||C(e,t.type.className)}function C(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}var _,I=function(e){for(var t={},r=0,n=["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"];r<n.length;r++){var a=n[r];t[a]=a}return t}(),x={serializedName:"FaceRectangle",type:{name:"Composite",className:"FaceRectangle",modelProperties:{left:{nullable:!1,serializedName:"left",type:{name:"Number"}},top:{nullable:!1,serializedName:"top",type:{name:"Number"}},width:{nullable:!1,serializedName:"width",type:{name:"Number"}},height:{nullable:!1,serializedName:"height",type:{name:"Number"}}}}},M={serializedName:"CelebritiesModel",type:{name:"Composite",className:"CelebritiesModel",modelProperties:{name:{nullable:!0,serializedName:"name",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}},faceRectangle:{serializedName:"faceRectangle",type:{name:"Composite",className:"FaceRectangle"}}}}},A={serializedName:"LandmarksModel",type:{name:"Composite",className:"LandmarksModel",modelProperties:{name:{nullable:!0,serializedName:"name",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}}}}},D={serializedName:"CategoryDetail",type:{name:"Composite",className:"CategoryDetail",modelProperties:{celebrities:{nullable:!0,serializedName:"celebrities",type:{name:"Sequence",element:{type:{name:"Composite",className:"CelebritiesModel"}}}},landmarks:{nullable:!0,serializedName:"landmarks",type:{name:"Sequence",element:{type:{name:"Composite",className:"LandmarksModel"}}}}}}},k={serializedName:"Category",type:{name:"Composite",className:"Category",modelProperties:{name:{nullable:!0,serializedName:"name",type:{name:"String"}},score:{nullable:!1,serializedName:"score",type:{name:"Number"}},detail:{serializedName:"detail",type:{name:"Composite",className:"CategoryDetail"}}}}},L={serializedName:"AdultInfo",type:{name:"Composite",className:"AdultInfo",modelProperties:{isAdultContent:{nullable:!1,serializedName:"isAdultContent",type:{name:"Boolean"}},isRacyContent:{nullable:!1,serializedName:"isRacyContent",type:{name:"Boolean"}},isGoryContent:{nullable:!1,serializedName:"isGoryContent",type:{name:"Boolean"}},adultScore:{nullable:!1,serializedName:"adultScore",type:{name:"Number"}},racyScore:{nullable:!1,serializedName:"racyScore",type:{name:"Number"}},goreScore:{nullable:!1,serializedName:"goreScore",type:{name:"Number"}}}}},j={serializedName:"ColorInfo",type:{name:"Composite",className:"ColorInfo",modelProperties:{dominantColorForeground:{nullable:!0,serializedName:"dominantColorForeground",type:{name:"String"}},dominantColorBackground:{nullable:!0,serializedName:"dominantColorBackground",type:{name:"String"}},dominantColors:{nullable:!0,serializedName:"dominantColors",type:{name:"Sequence",element:{type:{name:"String"}}}},accentColor:{nullable:!0,serializedName:"accentColor",type:{name:"String"}},isBWImg:{nullable:!1,serializedName:"isBWImg",type:{name:"Boolean"}}}}},B={serializedName:"ImageType",type:{name:"Composite",className:"ImageType",modelProperties:{clipArtType:{nullable:!1,serializedName:"clipArtType",type:{name:"Number"}},lineDrawingType:{nullable:!1,serializedName:"lineDrawingType",type:{name:"Number"}}}}},U={serializedName:"ImageTag",type:{name:"Composite",className:"ImageTag",modelProperties:{name:{nullable:!0,serializedName:"name",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}},hint:{nullable:!0,serializedName:"hint",type:{name:"String"}}}}},V={serializedName:"ImageCaption",type:{name:"Composite",className:"ImageCaption",modelProperties:{text:{nullable:!0,serializedName:"text",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}}}}},H={serializedName:"ImageDescriptionDetails",type:{name:"Composite",className:"ImageDescriptionDetails",modelProperties:{tags:{nullable:!0,serializedName:"tags",type:{name:"Sequence",element:{type:{name:"String"}}}},captions:{nullable:!0,serializedName:"captions",type:{name:"Sequence",element:{type:{name:"Composite",className:"ImageCaption"}}}}}}},F={serializedName:"FaceDescription",type:{name:"Composite",className:"FaceDescription",modelProperties:{age:{nullable:!1,serializedName:"age",type:{name:"Number"}},gender:{nullable:!0,serializedName:"gender",type:{name:"Enum",allowedValues:["Male","Female"]}},faceRectangle:{serializedName:"faceRectangle",type:{name:"Composite",className:"FaceRectangle"}}}}},$={serializedName:"BoundingRect",type:{name:"Composite",className:"BoundingRect",modelProperties:{x:{nullable:!1,serializedName:"x",type:{name:"Number"}},y:{nullable:!1,serializedName:"y",type:{name:"Number"}},w:{nullable:!1,serializedName:"w",type:{name:"Number"}},h:{nullable:!1,serializedName:"h",type:{name:"Number"}}}}},Q={serializedName:"ObjectHierarchy",type:{name:"Composite",className:"ObjectHierarchy",modelProperties:{object:{nullable:!0,serializedName:"object",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}},parent:{serializedName:"parent",type:{name:"Composite",className:"ObjectHierarchy"}}}}},W={serializedName:"DetectedObject",type:{name:"Composite",className:"DetectedObject",modelProperties:{rectangle:{readOnly:!0,serializedName:"rectangle",type:{name:"Composite",className:"BoundingRect"}},object:{nullable:!0,serializedName:"object",type:{name:"String"}},confidence:{nullable:!1,serializedName:"confidence",type:{name:"Number"}},parent:{serializedName:"parent",type:{name:"Composite",className:"ObjectHierarchy"}}}}},G={serializedName:"DetectedBrand",type:{name:"Composite",className:"DetectedBrand",modelProperties:{name:{nullable:!0,readOnly:!0,serializedName:"name",type:{name:"String"}},confidence:{nullable:!1,readOnly:!0,serializedName:"confidence",type:{name:"Number"}},rectangle:{readOnly:!0,serializedName:"rectangle",type:{name:"Composite",className:"BoundingRect"}}}}},J={serializedName:"ImageMetadata",type:{name:"Composite",className:"ImageMetadata",modelProperties:{width:{nullable:!1,serializedName:"width",type:{name:"Number"}},height:{nullable:!1,serializedName:"height",type:{name:"Number"}},format:{nullable:!0,serializedName:"format",type:{name:"String"}}}}},X={serializedName:"ImageAnalysis",type:{name:"Composite",className:"ImageAnalysis",modelProperties:{categories:{nullable:!0,serializedName:"categories",type:{name:"Sequence",element:{type:{name:"Composite",className:"Category"}}}},adult:{serializedName:"adult",type:{name:"Composite",className:"AdultInfo"}},color:{serializedName:"color",type:{name:"Composite",className:"ColorInfo"}},imageType:{serializedName:"imageType",type:{name:"Composite",className:"ImageType"}},tags:{nullable:!0,serializedName:"tags",type:{name:"Sequence",element:{type:{name:"Composite",className:"ImageTag"}}}},description:{serializedName:"description",type:{name:"Composite",className:"ImageDescriptionDetails"}},faces:{nullable:!0,serializedName:"faces",type:{name:"Sequence",element:{type:{name:"Composite",className:"FaceDescription"}}}},objects:{nullable:!0,serializedName:"objects",type:{name:"Sequence",element:{type:{name:"Composite",className:"DetectedObject"}}}},brands:{nullable:!0,serializedName:"brands",type:{name:"Sequence",element:{type:{name:"Composite",className:"DetectedBrand"}}}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},Y={serializedName:"ImageDescription",type:{name:"Composite",className:"ImageDescription",modelProperties:{tags:{nullable:!0,serializedName:"description.tags",type:{name:"Sequence",element:{type:{name:"String"}}}},captions:{nullable:!0,serializedName:"description.captions",type:{name:"Sequence",element:{type:{name:"Composite",className:"ImageCaption"}}}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},K={serializedName:"DetectResult",type:{name:"Composite",className:"DetectResult",modelProperties:{objects:{nullable:!0,readOnly:!0,serializedName:"objects",type:{name:"Sequence",element:{type:{name:"Composite",className:"DetectedObject"}}}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},Z={serializedName:"ModelDescription",type:{name:"Composite",className:"ModelDescription",modelProperties:{name:{nullable:!0,serializedName:"name",type:{name:"String"}},categories:{nullable:!0,serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},ee={serializedName:"ListModelsResult",type:{name:"Composite",className:"ListModelsResult",modelProperties:{modelsProperty:{nullable:!0,readOnly:!0,serializedName:"models",type:{name:"Sequence",element:{type:{name:"Composite",className:"ModelDescription"}}}}}}},te={serializedName:"DomainModelResults",type:{name:"Composite",className:"DomainModelResults",modelProperties:{result:{serializedName:"result",type:{name:"Object"}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},re={serializedName:"OcrWord",type:{name:"Composite",className:"OcrWord",modelProperties:{boundingBox:{nullable:!0,serializedName:"boundingBox",type:{name:"String"}},text:{nullable:!0,serializedName:"text",type:{name:"String"}}}}},ne={serializedName:"OcrLine",type:{name:"Composite",className:"OcrLine",modelProperties:{boundingBox:{nullable:!0,serializedName:"boundingBox",type:{name:"String"}},words:{nullable:!0,serializedName:"words",type:{name:"Sequence",element:{type:{name:"Composite",className:"OcrWord"}}}}}}},ae={serializedName:"OcrRegion",type:{name:"Composite",className:"OcrRegion",modelProperties:{boundingBox:{nullable:!0,serializedName:"boundingBox",type:{name:"String"}},lines:{nullable:!0,serializedName:"lines",type:{name:"Sequence",element:{type:{name:"Composite",className:"OcrLine"}}}}}}},ie={serializedName:"OcrResult",type:{name:"Composite",className:"OcrResult",modelProperties:{language:{nullable:!0,serializedName:"language",type:{name:"String"}},textAngle:{nullable:!1,serializedName:"textAngle",type:{name:"Number"}},orientation:{nullable:!0,serializedName:"orientation",type:{name:"String"}},regions:{nullable:!0,serializedName:"regions",type:{name:"Sequence",element:{type:{name:"Composite",className:"OcrRegion"}}}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},oe={serializedName:"TagResult",type:{name:"Composite",className:"TagResult",modelProperties:{tags:{nullable:!0,serializedName:"tags",type:{name:"Sequence",element:{type:{name:"Composite",className:"ImageTag"}}}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},se={serializedName:"AreaOfInterestResult",type:{name:"Composite",className:"AreaOfInterestResult",modelProperties:{areaOfInterest:{readOnly:!0,serializedName:"areaOfInterest",type:{name:"Composite",className:"BoundingRect"}},requestId:{nullable:!0,serializedName:"requestId",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"ImageMetadata"}},modelVersion:{serializedName:"modelVersion",type:{name:"String"}}}}},ue={serializedName:"ImageUrl",type:{name:"Composite",className:"ImageUrl",modelProperties:{url:{required:!0,serializedName:"url",type:{name:"String"}}}}},le={serializedName:"ComputerVisionInnerError",type:{name:"Composite",className:"ComputerVisionInnerError",modelProperties:{code:{required:!0,serializedName:"code",type:{name:"String"}},message:{required:!0,serializedName:"message",type:{name:"String"}}}}},pe={serializedName:"ComputerVisionError",type:{name:"Composite",className:"ComputerVisionError",modelProperties:{code:{required:!0,serializedName:"code",type:{name:"String"}},message:{required:!0,serializedName:"message",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"ComputerVisionInnerError"}}}}},ce={serializedName:"ComputerVisionErrorResponse",type:{name:"Composite",className:"ComputerVisionErrorResponse",modelProperties:{error:{required:!0,serializedName:"error",type:{name:"Composite",className:"ComputerVisionError"}}}}},me={serializedName:"Style",type:{name:"Composite",className:"Style",modelProperties:{name:{required:!0,serializedName:"name",type:{name:"String"}},confidence:{required:!0,serializedName:"confidence",type:{name:"Number"}}}}},de={serializedName:"Appearance",type:{name:"Composite",className:"Appearance",modelProperties:{style:{required:!0,serializedName:"style",type:{name:"Composite",className:"Style"}}}}},fe={serializedName:"Word",type:{name:"Composite",className:"Word",modelProperties:{boundingBox:{required:!0,serializedName:"boundingBox",type:{name:"Sequence",element:{type:{name:"Number"}}}},text:{required:!0,serializedName:"text",type:{name:"String"}},confidence:{required:!0,serializedName:"confidence",type:{name:"Number"}}}}},he={serializedName:"Line",type:{name:"Composite",className:"Line",modelProperties:{language:{serializedName:"language",type:{name:"String"}},boundingBox:{required:!0,serializedName:"boundingBox",type:{name:"Sequence",element:{type:{name:"Number"}}}},appearance:{serializedName:"appearance",type:{name:"Composite",className:"Appearance"}},text:{required:!0,serializedName:"text",type:{name:"String"}},words:{required:!0,serializedName:"words",type:{name:"Sequence",element:{type:{name:"Composite",className:"Word"}}}}}}},ye={serializedName:"ReadResult",type:{name:"Composite",className:"ReadResult",modelProperties:{page:{required:!0,serializedName:"page",type:{name:"Number"}},language:{serializedName:"language",type:{name:"String"}},angle:{required:!0,serializedName:"angle",type:{name:"Number"}},width:{required:!0,serializedName:"width",type:{name:"Number"}},height:{required:!0,serializedName:"height",type:{name:"Number"}},unit:{required:!0,nullable:!1,serializedName:"unit",type:{name:"Enum",allowedValues:["pixel","inch"]}},lines:{required:!0,serializedName:"lines",type:{name:"Sequence",element:{type:{name:"Composite",className:"Line"}}}}}}},ge={serializedName:"analyzeResults",type:{name:"Composite",className:"AnalyzeResults",modelProperties:{version:{required:!0,serializedName:"version",type:{name:"String"}},modelVersion:{required:!0,serializedName:"modelVersion",constraints:{Pattern:/^(latest|\d{4}-\d{2}-\d{2})(-preview)?$/},type:{name:"String"}},readResults:{required:!0,serializedName:"readResults",type:{name:"Sequence",element:{type:{name:"Composite",className:"ReadResult"}}}}}}},ve={serializedName:"ReadOperationResult",type:{name:"Composite",className:"ReadOperationResult",modelProperties:{status:{nullable:!1,serializedName:"status",type:{name:"Enum",allowedValues:["notStarted","running","failed","succeeded"]}},createdDateTime:{nullable:!1,serializedName:"createdDateTime",type:{name:"String"}},lastUpdatedDateTime:{nullable:!1,serializedName:"lastUpdatedDateTime",type:{name:"String"}},analyzeResult:{serializedName:"analyzeResult",type:{name:"Composite",className:"AnalyzeResults"}}}}},be={serializedName:"ComputerVisionOcrError",type:{name:"Composite",className:"ComputerVisionOcrError",modelProperties:{code:{required:!0,serializedName:"code",type:{name:"Object"}},message:{required:!0,serializedName:"message",type:{name:"String"}},requestId:{serializedName:"requestId",type:{name:"String"}}}}},Ne={serializedName:"read-headers",type:{name:"Composite",className:"ReadHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},Se={serializedName:"readinstream-headers",type:{name:"Composite",className:"ReadInStreamHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}};!function(e){e.Csv=",",e.Ssv=" ",e.Tsv="\t",e.Pipes="|",e.Multi="Multi"}(_||(_={}));var we,Ee={parameterPath:["options","descriptionExclude"],mapper:{serializedName:"descriptionExclude",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["Celebrities","Landmarks"]}}}},collectionFormat:_.Csv},ze={parameterPath:["options","details"],mapper:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["Celebrities","Landmarks"]}}}},collectionFormat:_.Csv},Pe={parameterPath:"detectOrientation",mapper:{required:!0,serializedName:"detectOrientation",defaultValue:!0,type:{name:"Boolean"}}},Re={parameterPath:"endpoint",mapper:{required:!0,serializedName:"Endpoint",defaultValue:"",type:{name:"String"}},skipEncoding:!0},qe={parameterPath:"height",mapper:{required:!0,serializedName:"height",constraints:{InclusiveMaximum:1024,InclusiveMinimum:1},type:{name:"Number"}}},Te={parameterPath:["options","language"],mapper:{serializedName:"language",defaultValue:"en",type:{name:"String"}}},Oe={parameterPath:["options","language"],mapper:{serializedName:"language",defaultValue:"unk",type:{name:"Enum",allowedValues:["unk","zh-Hans","zh-Hant","cs","da","nl","en","fi","fr","de","el","hu","it","ja","ko","nb","pl","pt","ru","es","sv","tr","ar","ro","sr-Cyrl","sr-Latn","sk"]}}},Ce={parameterPath:["options","language"],mapper:{serializedName:"language",type:{name:"String"}}},_e={parameterPath:["options","maxCandidates"],mapper:{serializedName:"maxCandidates",defaultValue:1,type:{name:"Number"}}},Ie={parameterPath:"model",mapper:{required:!0,serializedName:"model",type:{name:"String"}}},xe={parameterPath:["options","modelVersion"],mapper:{serializedName:"model-version",defaultValue:"latest",constraints:{Pattern:/^(latest|\d{4}-\d{2}-\d{2})(-preview)?$/},type:{name:"String"}}},Me={parameterPath:["options","pages"],mapper:{serializedName:"pages",type:{name:"Sequence",element:{type:{name:"String"}}}},collectionFormat:_.Csv},Ae={parameterPath:["options","readingOrder"],mapper:{serializedName:"readingOrder",defaultValue:"basic",type:{name:"String"}}},De={parameterPath:["options","smartCropping"],mapper:{serializedName:"smartCropping",defaultValue:!1,type:{name:"Boolean"}}},ke={parameterPath:["options","visualFeatures"],mapper:{serializedName:"visualFeatures",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["ImageType","Faces","Adult","Categories","Color","Tags","Description","Objects","Brands"]}}}},collectionFormat:_.Csv},Le={parameterPath:"width",mapper:{required:!0,serializedName:"width",constraints:{InclusiveMaximum:1024,InclusiveMinimum:1},type:{name:"Number"}}},je=r(970),Be="authorization",Ue="Retry-After";!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO"}(we||(we={}));var Ve=function(){function e(e,t){this._nextPolicy=e,this._options=t}return e.prototype.shouldLog=function(e){return this._options.shouldLog(e)},e.prototype.log=function(e,t){this._options.log(e,t)},e}(),He=function(){function e(e){this._logger=e}return e.prototype.shouldLog=function(e){return!!this._logger&&e!==we.OFF&&e<=this._logger.minimumLogLevel},e.prototype.log=function(e,t){this._logger&&this.shouldLog(e)&&this._logger.log(e,t)},e}(),Fe=function(){return"x-ms-command-name"};function $e(){var e,t,r,n,a=[{key:"ms-rest-js",value:"2.6.0"}],i=[{key:"OS",value:((e=self.navigator).oscpu||e.platform).replace(" ","")}];return t=a.concat(i),void 0===r&&(r=" "),void 0===n&&(n="/"),t.map((function(e){var t=e.value?""+n+e.value:"";return""+e.key+t})).join(r)}var Qe=function(e){function t(t,r,n,a){var i=e.call(this,t,r)||this;return i._nextPolicy=t,i._options=r,i.headerKey=n,i.headerValue=a,i}return i(t,e),t.prototype.sendRequest=function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)},t.prototype.addUserAgentHeader=function(e){e.headers||(e.headers=new je.W),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)},t}(Ve),We=function(e){function t(r,n,a,i,o,s){var u=e.call(this,r)||this;return u.code=n,u.statusCode=a,u.request=i,u.response=o,u.body=s,Object.setPrototypeOf(u,t.prototype),u}return i(t,e),t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",t.PARSE_ERROR="PARSE_ERROR",t}(Error),Ge=function(){function e(){}return e.prototype.sendRequest=function(e){var t=new XMLHttpRequest;if(e.agentSettings)throw new Error("HTTP agent settings not supported in browser environment");if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var r=e.abortSignal;if(r){var n=function(){t.abort()};r.addEventListener("abort",n),t.addEventListener("readystatechange",(function(){t.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",n)}))}if(Je(t.upload,e.onUploadProgress),Je(t,e.onDownloadProgress),e.formData){for(var a=e.formData,i=new FormData,o=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?i.append(e,t.value,t.options):i.append(e,t)},s=0,u=Object.keys(a);s<u.length;s++){var l=u[s],p=a[l];if(Array.isArray(p))for(var c=0;c<p.length;c++)o(l,p[c]);else o(l,p)}e.body=i,e.formData=void 0;var m=e.headers.get("Content-Type");m&&-1!==m.indexOf("multipart/form-data")&&e.headers.remove("Content-Type")}t.open(e.method,e.url),t.timeout=e.timeout,t.withCredentials=e.withCredentials;for(var d=0,f=e.headers.headersArray();d<f.length;d++){var h=f[d];t.setRequestHeader(h.name,h.value)}return t.responseType=e.streamResponseBody?"blob":"text",t.send(void 0===e.body?null:e.body),e.streamResponseBody?new Promise((function(r,n){t.addEventListener("readystatechange",(function(){if(t.readyState===XMLHttpRequest.HEADERS_RECEIVED){var n=new Promise((function(r,n){t.addEventListener("load",(function(){r(t.response)})),Ye(e,t,n)}));r({request:e,status:t.status,headers:Xe(t),blobBody:n})}})),Ye(e,t,n)})):new Promise((function(r,n){t.addEventListener("load",(function(){return r({request:e,status:t.status,headers:Xe(t),bodyAsText:t.responseText})})),Ye(e,t,n)}))},e}();function Je(e,t){t&&e.addEventListener("progress",(function(e){return t({loadedBytes:e.loaded})}))}function Xe(e){for(var t=new je.W,r=0,n=e.getAllResponseHeaders().trim().split(/[\r\n]+/);r<n.length;r++){var a=n[r],i=a.indexOf(":"),o=a.slice(0,i),s=a.slice(i+2);t.set(o,s)}return t}function Ye(e,t,r){t.addEventListener("error",(function(){return r(new We("Failed to send request to "+e.url,We.REQUEST_SEND_ERROR,void 0,e))})),t.addEventListener("abort",(function(){return r(new We("The request was aborted",We.REQUEST_ABORTED_ERROR,void 0,e))})),t.addEventListener("timeout",(function(){return r(new We("timeout of "+t.timeout+"ms exceeded",We.REQUEST_SEND_ERROR,void 0,e))}))}function Ke(e){return Ze(e.parameterPath,e.mapper)}function Ze(e,t){return"string"==typeof e?e:Array.isArray(e)?e.join("."):t.serializedName}function et(e){var t=!1;for(var r in e.responses){var n=e.responses[r];if(n.bodyMapper&&n.bodyMapper.type.name===I.Stream){t=!0;break}}return t}var tt=new DOMParser;function rt(e){try{var t=tt.parseFromString(e,"application/xml");!function(e){if(nt){var t=e.getElementsByTagNameNS(nt,"parsererror");if(t.length)throw new Error(t.item(0).innerHTML)}}(t);var r=at(t.childNodes[0]);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}var nt="";try{nt=tt.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}function at(e){var t={},r=e.childNodes.length,n=e.childNodes[0],a=n&&1===r&&n.nodeType===Node.TEXT_NODE&&n.nodeValue||void 0,i=function(e){return function(e){return!!e.attributes}(e)&&e.hasAttributes()?e:void 0}(e);if(i){t.$={};for(var o=0;o<i.attributes.length;o++){var s=i.attributes[o];t.$[s.nodeName]=s.nodeValue}a&&(t._=a)}else 0===r?t="":a&&(t=a);if(!a)for(o=0;o<r;o++){var u=e.childNodes[o];if(u.nodeType!==Node.TEXT_NODE){var l=at(u);t[u.nodeName]?Array.isArray(t[u.nodeName])?t[u.nodeName].push(l):t[u.nodeName]=[t[u.nodeName],l]:t[u.nodeName]=l}}return t}var it=document.implementation.createDocument(null,null,null),ot=new XMLSerializer;function st(e,t){var r=lt(e,t&&t.rootName||"root")[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+ot.serializeToString(r)}function ut(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var a=n[r],i=it.createAttribute(a);i.value=e[a].toString(),t.push(i)}return t}function lt(e,t){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return(u=it.createElement(t)).textContent=e.toString(),[u];if(Array.isArray(e)){for(var r=[],n=0,a=e;n<a.length;n++)for(var i=0,o=lt(a[n],t);i<o.length;i++){var s=o[i];r.push(s)}return r}if("object"==typeof e){for(var u=it.createElement(t),l=0,p=Object.keys(e);l<p.length;l++){var c=p[l];if("$"===c)for(var m=0,d=ut(e[c]);m<d.length;m++){var f=d[m];u.attributes.setNamedItem(f)}else for(var h=0,y=lt(e[c],c);h<y.length;h++)s=y[h],u.appendChild(s)}return[u]}throw new Error("Illegal value passed to buildObject: "+e)}var pt=["application/json","text/json"],ct=["application/xml","application/atom+xml"],mt=function(e){function t(t,r,n){var a=e.call(this,t,n)||this;return a.jsonContentTypes=r&&r.json||pt,a.xmlContentTypes=r&&r.xml||ct,a}return i(t,e),t.prototype.sendRequest=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(r){return[2,this._nextPolicy.sendRequest(e).then((function(e){return function(e,t,r){return function(e,t,r){var n=function(e){var t='Error "'+e+'" occurred while parsing the response body - '+r.bodyAsText+".",n=e.code||We.PARSE_ERROR,a=new We(t,n,r.status,r.request,r,r.bodyAsText);return Promise.reject(a)};if(!r.request.streamResponseBody&&r.bodyAsText){var a=r.bodyAsText,i=r.headers.get("Content-Type")||"",o=i?i.split(";").map((function(e){return e.toLowerCase()})):[];if(0===o.length||o.some((function(t){return-1!==e.indexOf(t)})))return new Promise((function(e){r.parsedBody=JSON.parse(a),e(r)})).catch(n);if(o.some((function(e){return-1!==t.indexOf(e)})))return rt(a).then((function(e){return r.parsedBody=e,r})).catch(n)}return Promise.resolve(r)}(e,t,r).then((function(e){var t=function(e){var t=e.request.shouldDeserialize;return void 0===t||("boolean"==typeof t?t:t(e))}(e);if(t){var n=e.request.operationSpec;if(n&&n.responses){var a=e.status,i=Object.keys(n.responses),o=0===i.length||1===i.length&&"default"===i[0],s=function(e){var t,r=e.request,n=r.operationSpec;if(n){var a=r.operationResponseGetter;t=a?a(n,e):n.responses[e.status]}return t}(e);if(o?200<=a&&a<300:s){if(s){if(s.bodyMapper){h=e.parsedBody,n.isXML&&s.bodyMapper.type.name===I.Sequence&&(h="object"==typeof h?h[s.bodyMapper.xmlElementName]:[]);try{e.parsedBody=n.serializer.deserialize(s.bodyMapper,h,"operationRes.parsedBody")}catch(c){var u=new We("Error "+c+" occurred in deserializing the responseBody - "+e.bodyAsText);return u.request=N(e.request),u.response=b(e),Promise.reject(u)}}else"HEAD"===n.httpMethod&&(e.parsedBody=r.status>=200&&r.status<300);s.headersMapper&&(e.parsedHeaders=n.serializer.deserialize(s.headersMapper,e.headers.rawHeaders(),"operationRes.parsedHeaders"))}}else{var l=n.responses.default;if(l){var p=et(n)?"Unexpected status code: "+a:e.bodyAsText,c=new We(p);c.statusCode=a,c.request=N(e.request),c.response=b(e);var m=e.parsedBody;try{if(m){var d=l.bodyMapper;if(d&&"CloudError"===d.serializedName)m.error&&(m=m.error),m.code&&(c.code=m.code),m.message&&(c.message=m.message);else{var f=m;m.error&&(f=m.error),c.code=f.code,f.message&&(c.message=f.message)}if(d){var h=m;n.isXML&&d.type.name===I.Sequence&&(h="object"==typeof m?m[d.xmlElementName]:[]),c.body=n.serializer.deserialize(d,h,"error.body")}}}catch(t){c.message='Error "'+t.message+'" occurred in deserializing the responseBody - "'+e.bodyAsText+'" for the default response.'}return Promise.reject(c)}}}}return Promise.resolve(e)}))}(t.jsonContentTypes,t.xmlContentTypes,e)}))]}))}))},t}(Ve),dt=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r)||this;function u(e){return"number"==typeof e}return s.retryCount=u(n)?n:3,s.retryInterval=u(a)?a:3e4,s.minRetryInterval=u(i)?i:3e3,s.maxRetryInterval=u(o)?o:9e4,s}return i(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(r){return ft(t,e,r)})).catch((function(r){return ft(t,e,r.response,void 0,r)}))},t}(Ve);function ft(e,t,r,n,a){n=function(e,t,r){t||(t={retryCount:0,retryInterval:0}),r&&(t.error&&(r.innerError=t.error),t.error=r),t.retryCount++;var n=Math.pow(2,t.retryCount)-1;return n*=.8*e.retryInterval+Math.floor(Math.random()*(1.2*e.retryInterval-.8*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(e,n,a);var i=t.abortSignal&&t.abortSignal.aborted;if(!i&&function(e,t,r){if(null==t||t<500&&408!==t||501===t||505===t)return!1;if(!r)throw new Error("retryData for the ExponentialRetryPolicyFilter cannot be null.");return(r&&r.retryCount)<e.retryCount}(e,r&&r.status,n))return w(n.retryInterval).then((function(){return e._nextPolicy.sendRequest(t.clone())})).then((function(r){return ft(e,t,r,n,void 0)})).catch((function(a){return ft(e,t,r,n,a)}));if(i||a||!r){var o=n.error||new We("Failed to send the request.",We.REQUEST_SEND_ERROR,r&&r.status,r&&r.request,r);return Promise.reject(o)}return Promise.resolve(r)}var ht=function(e){function t(t,r,n){var a=e.call(this,t,r)||this;return a._requestIdHeaderName=n,a}return i(t,e),t.prototype.sendRequest=function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,S()),this._nextPolicy.sendRequest(e)},t}(Ve),yt=function(){function e(){this._rawQuery={}}return e.prototype.any=function(){return Object.keys(this._rawQuery).length>0},e.prototype.set=function(e,t){if(e)if(null!=t){var r=Array.isArray(t)?t:t.toString();this._rawQuery[e]=r}else delete this._rawQuery[e]},e.prototype.get=function(e){return e?this._rawQuery[e]:void 0},e.prototype.toString=function(){var e="";for(var t in this._rawQuery){e&&(e+="&");var r=this._rawQuery[t];if(Array.isArray(r)){for(var n=[],a=0,i=r;a<i.length;a++){var o=i[a];n.push(t+"="+o)}e+=n.join("&")}else e+=t+"="+r}return e},e.parse=function(t){var r=new e;if(t){t.startsWith("?")&&(t=t.substring(1));for(var n="ParameterName",a="",i="",o=0;o<t.length;++o){var s=t[o];switch(n){case"ParameterName":switch(s){case"=":n="ParameterValue";break;case"&":a="",i="";break;default:a+=s}break;case"ParameterValue":"&"===s?(r.set(a,i),a="",i="",n="ParameterName"):i+=s;break;default:throw new Error("Unrecognized URLQuery parse state: "+n)}}"ParameterValue"===n&&r.set(a,i)}return r},e}(),gt=function(){function e(){}return e.prototype.setScheme=function(e){e?this.set(e,"SCHEME"):this._scheme=void 0},e.prototype.getScheme=function(){return this._scheme},e.prototype.setHost=function(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0},e.prototype.getHost=function(){return this._host},e.prototype.setPort=function(e){null==e||""===e?this._port=void 0:this.set(e.toString(),"PORT")},e.prototype.getPort=function(){return this._port},e.prototype.setPath=function(e){if(e){var t=e.indexOf("://");if(-1!==t){var r=e.lastIndexOf("/",t);this.set(-1===r?e:e.substr(r+1),"SCHEME")}else this.set(e,"PATH")}else this._path=void 0},e.prototype.appendPath=function(e){if(e){var t=this.getPath();t&&(t.endsWith("/")||(t+="/"),e.startsWith("/")&&(e=e.substring(1)),e=t+e),this.set(e,"PATH")}},e.prototype.getPath=function(){return this._path},e.prototype.setQuery=function(e){this._query=e?yt.parse(e):void 0},e.prototype.setQueryParameter=function(e,t){e&&(this._query||(this._query=new yt),this._query.set(e,t))},e.prototype.getQueryParameterValue=function(e){return this._query?this._query.get(e):void 0},e.prototype.getQuery=function(){return this._query?this._query.toString():void 0},e.prototype.set=function(e,t){for(var r=new bt(e,t);r.next();){var n=r.current();if(n)switch(n.type){case"SCHEME":this._scheme=n.text||void 0;break;case"HOST":this._host=n.text||void 0;break;case"PORT":this._port=n.text||void 0;break;case"PATH":var a=n.text||void 0;this._path&&"/"!==this._path&&"/"===a||(this._path=a);break;case"QUERY":this._query=yt.parse(n.text);break;default:throw new Error("Unrecognized URLTokenType: "+n.type)}}},e.prototype.toString=function(){var e="";return this._scheme&&(e+=this._scheme+"://"),this._host&&(e+=this._host),this._port&&(e+=":"+this._port),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+="?"+this._query.toString()),e},e.prototype.replaceAll=function(e,t){e&&(this.setScheme(z(this.getScheme(),e,t)),this.setHost(z(this.getHost(),e,t)),this.setPort(z(this.getPort(),e,t)),this.setPath(z(this.getPath(),e,t)),this.setQuery(z(this.getQuery(),e,t)))},e.parse=function(t){var r=new e;return r.set(t,"SCHEME_OR_HOST"),r},e}(),vt=function(){function e(e,t){this.text=e,this.type=t}return e.scheme=function(t){return new e(t,"SCHEME")},e.host=function(t){return new e(t,"HOST")},e.port=function(t){return new e(t,"PORT")},e.path=function(t){return new e(t,"PATH")},e.query=function(t){return new e(t,"QUERY")},e}(),bt=function(){function e(e,t){this._text=e,this._textLength=e?e.length:0,this._currentState=null!=t?t:"SCHEME_OR_HOST",this._currentIndex=0}return e.prototype.current=function(){return this._currentToken},e.prototype.next=function(){if(Nt(this))switch(this._currentState){case"SCHEME":t=function(e){return zt(e,(function(e){return function(e){var t=e.charCodeAt(0);return 48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122}(e)}))}(e=this),e._currentToken=vt.scheme(t),Nt(e)?e._currentState="HOST":e._currentState="DONE";break;case"SCHEME_OR_HOST":!function(e){var t=Pt(e,":","/","?");Nt(e)?":"===St(e)?"://"===Et(e,3)?(e._currentToken=vt.scheme(t),e._currentState="HOST"):(e._currentToken=vt.host(t),e._currentState="PORT"):(e._currentToken=vt.host(t),"/"===St(e)?e._currentState="PATH":e._currentState="QUERY"):(e._currentToken=vt.host(t),e._currentState="DONE")}(this);break;case"HOST":!function(e){"://"===Et(e,3)&&wt(e,3);var t=Pt(e,":","/","?");e._currentToken=vt.host(t),Nt(e)?":"===St(e)?e._currentState="PORT":"/"===St(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PORT":!function(e){":"===St(e)&&wt(e);var t=Pt(e,"/","?");e._currentToken=vt.port(t),Nt(e)?"/"===St(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PATH":!function(e){var t=Pt(e,"?");e._currentToken=vt.path(t),Nt(e)?e._currentState="QUERY":e._currentState="DONE"}(this);break;case"QUERY":!function(e){"?"===St(e)&&wt(e);var t=function(e){var t="";return e._currentIndex<e._textLength&&(t=e._text.substring(e._currentIndex),e._currentIndex=e._textLength),t}(e);e._currentToken=vt.query(t),e._currentState="DONE"}(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}else this._currentToken=void 0;var e,t;return!!this._currentToken},e}();function Nt(e){return e._currentIndex<e._textLength}function St(e){return e._text[e._currentIndex]}function wt(e,t){Nt(e)&&(t||(t=1),e._currentIndex+=t)}function Et(e,t){var r=e._currentIndex+t;return e._textLength<r&&(r=e._textLength),e._text.substring(e._currentIndex,r)}function zt(e,t){for(var r="";Nt(e);){var n=St(e);if(!t(n))break;r+=n,wt(e)}return r}function Pt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return zt(e,(function(e){return-1===t.indexOf(e)}))}var Rt={handleRedirects:!0,maxRetries:20},qt=function(e){function t(t,r,n){void 0===n&&(n=20);var a=e.call(this,t,r)||this;return a.maxRetries=n,a}return i(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then((function(e){return Tt(t,e,0)}))},t}(Ve);function Tt(e,t,r){var n=t.request,a=t.status,i=t.headers.get("location");if(i&&(300===a||301===a&&["GET","HEAD"].includes(n.method)||302===a&&["GET","POST","HEAD"].includes(n.method)||303===a&&"POST"===n.method||307===a)&&(void 0!==n.redirectLimit&&r<n.redirectLimit||void 0===n.redirectLimit&&r<e.maxRetries)){var o=gt.parse(n.url);return o.setPath(i),n.url=o.toString(),302!==a&&303!==a||"POST"!==n.method||(n.method="GET",delete n.body),e._nextPolicy.sendRequest(n).then((function(t){return Tt(e,t,r+1)})).then((function(e){return function(e,t){return e.redirected||(e.redirected=!0,e.url=t),e}(e,n.url)}))}return Promise.resolve(t)}var Ot=function(e){function t(t,r,n){void 0===n&&(n=30);var a=e.call(this,t,r)||this;return a._retryTimeout=n,a}return i(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(r){return function(e,t,r){if(409===r.status){var n=function(e){var t,r;if(e){try{r=JSON.parse(e)}catch(e){}if(r&&r.error&&r.error.message&&r.error.code&&"MissingSubscriptionRegistration"===r.error.code){var n=r.error.message.match(/.*'(.*)'/i);n&&(t=n.pop())}}return t}(r.bodyAsText);if(n){var a=function(e){var t=e.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(!t||!t[0])throw new Error("Unable to extract subscriptionId from the given url - "+e+".");return t[0]}(t.url);return function(e,t,r,n){var a=t+"providers/"+r+"/register?api-version=2016-02-01",i=t+"providers/"+r+"?api-version=2016-02-01",o=Ct(n);return o.method="POST",o.url=a,e._nextPolicy.sendRequest(o).then((function(t){if(200!==t.status)throw new Error("Autoregistration of "+r+" failed. Please try registering manually.");return _t(e,i,n)}))}(e,a,n,t).catch((function(){return!1})).then((function(n){return n?(t.headers.set("x-ms-client-request-id",S()),e._nextPolicy.sendRequest(t.clone())):r}))}}return Promise.resolve(r)}(t,e,r)}))},t}(Ve);function Ct(e,t){void 0===t&&(t=!1);var r=e.clone();return t&&(r.url=e.url),r.headers.set("x-ms-client-request-id",S()),r.headers.set("Content-Type","application/json; charset=utf-8"),r}function _t(e,t,r){var n=Ct(r);return n.url=t,n.method="GET",e._nextPolicy.sendRequest(n).then((function(n){var a=n.parsedBody;return!(!n.parsedBody||!a.registrationState||"Registered"!==a.registrationState)||w(1e3*e._retryTimeout).then((function(){return _t(e,t,r)}))}))}var It=function(e){function t(t,r,n){var a=e.call(this,t,r)||this;return a.authenticationProvider=n,a}return i(t,e),t.prototype.signRequest=function(e){return this.authenticationProvider.signRequest(e)},t.prototype.sendRequest=function(e){var t=this;return this.signRequest(e).then((function(e){return t._nextPolicy.sendRequest(e)}))},t}(Ve),xt=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r)||this;return s.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,s.DEFAULT_CLIENT_RETRY_COUNT=3,s.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=9e4,s.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=3e3,s.retryCount="number"==typeof n?n:s.DEFAULT_CLIENT_RETRY_COUNT,s.retryInterval="number"==typeof a?a:s.DEFAULT_CLIENT_RETRY_INTERVAL,s.minRetryInterval="number"==typeof i?i:s.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,s.maxRetryInterval="number"==typeof o?o:s.DEFAULT_CLIENT_MAX_RETRY_INTERVAL,s}return i(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).catch((function(r){return Mt(t,e,r.response,r)}))},t}(Ve);function Mt(e,t,r,n,a){return u(this,void 0,void 0,(function(){var i;return l(this,(function(o){switch(o.label){case 0:if(a=function(e,t,r){t||(t={retryCount:0,retryInterval:0}),r&&(t.error&&(r.innerError=t.error),t.error=r),t.retryCount++;var n=Math.pow(2,t.retryCount)-1;return n*=.8*e.retryInterval+Math.floor(Math.random()*(.4*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(e,a,n),!(n&&n.code&&function(e,t){if(!t)throw new Error("retryData for the SystemErrorRetryPolicyFilter cannot be null.");return(t&&t.retryCount)<e.retryCount}(e,a))||"ETIMEDOUT"!==n.code&&"ESOCKETTIMEDOUT"!==n.code&&"ECONNREFUSED"!==n.code&&"ECONNRESET"!==n.code&&"ENOENT"!==n.code)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,w(a.retryInterval)];case 2:return o.sent(),[2,e._nextPolicy.sendRequest(t.clone())];case 3:return i=o.sent(),[2,Mt(e,t,r,i,a)];case 4:return[3,6];case 5:return n?[2,Promise.reject(a.error)]:[2,r];case 6:return[2]}}))}))}var At=function(){function e(e,t,r,n,a,i,o,s,u,l,p,c,m,d,f){this.streamResponseBody=i,this.url=e||"",this.method=t||"GET",this.headers=(0,je.d)(a)?a:new je.W(a),this.body=r,this.query=n,this.formData=void 0,this.withCredentials=o||!1,this.abortSignal=s,this.timeout=u||0,this.onUploadProgress=l,this.onDownloadProgress=p,this.proxySettings=c,this.keepAlive=m,this.agentSettings=d,this.redirectLimit=f}return e.prototype.validateRequestProperties=function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")},e.prototype.prepare=function(e){if(!e)throw new Error("options object is required");if(null==e.method||"string"!=typeof e.method.valueOf())throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if(!(null!=e.pathTemplate&&"string"==typeof e.pathTemplate.valueOf()||null!=e.url&&"string"==typeof e.url.valueOf()))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if("string"!=typeof e.url)throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method){var t=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(-1===t.indexOf(e.method.toUpperCase()))throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(t))}if(this.method=e.method.toUpperCase(),e.pathTemplate){var r=e.pathTemplate,n=e.pathParameters;if("string"!=typeof r)throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");var a=e.baseUrl,i=a+(a.endsWith("/")?"":"/")+(r.startsWith("/")?r.slice(1):r),o=i.match(/({\w*\s*\w*})/gi);if(o&&o.length){if(!n)throw new Error("pathTemplate: "+r+" has been provided. Hence, options.pathParameters must also be provided.");o.forEach((function(e){var t=e.slice(1,-1),a=n[t];if(null==a||"string"!=typeof a&&"object"!=typeof a)throw new Error("pathTemplate: "+r+" contains the path parameter "+t+" however, it is not present in "+n+" - "+JSON.stringify(n,void 0,2)+'.The value of the path parameter can either be a "string" of the form { '+t+': "some sample value" } or it can be an "object" of the form { "'+t+'": { value: "some sample value", skipUrlEncoding: true } }.');if("string"==typeof a.valueOf()&&(i=i.replace(e,encodeURIComponent(a))),"object"==typeof a.valueOf()){if(!a.value)throw new Error("options.pathParameters["+t+'] is of type "object" but it does not contain a "value" property.');i=a.skipUrlEncoding?i.replace(e,a.value):i.replace(e,encodeURIComponent(a.value))}}))}this.url=i}if(e.queryParameters){var s=e.queryParameters;if("object"!=typeof s)throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&-1===this.url.indexOf("?")&&(this.url+="?");var u=[];for(var l in this.query={},s){var p=s[l];if(p)if("string"==typeof p)u.push(l+"="+encodeURIComponent(p)),this.query[l]=encodeURIComponent(p);else if("object"==typeof p){if(!p.value)throw new Error("options.queryParameters["+l+'] is of type "object" but it does not contain a "value" property.');p.skipUrlEncoding?(u.push(l+"="+p.value),this.query[l]=p.value):(u.push(l+"="+encodeURIComponent(p.value)),this.query[l]=encodeURIComponent(p.value))}}this.url+=u.join("&")}if(e.headers)for(var c=e.headers,m=0,d=Object.keys(e.headers);m<d.length;m++){var f=d[m];this.headers.set(f,c[f])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),this.headers.get("x-ms-client-request-id")||e.disableClientRequestId||this.headers.set("x-ms-client-request-id",S()),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,null!=e.body&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),"application/octet-stream"!==this.headers.get("Content-Type")&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new P(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this.redirectLimit=e.redirectLimit,this.streamResponseBody=e.streamResponseBody,this},e.prototype.clone=function(){var t=new e(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress,this.proxySettings,this.keepAlive,this.agentSettings,this.redirectLimit);return this.formData&&(t.formData=this.formData),this.operationSpec&&(t.operationSpec=this.operationSpec),this.shouldDeserialize&&(t.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(t.operationResponseGetter=this.operationResponseGetter),t},e}(),Dt=new Error("AgentPolicy is not supported in browser environment");!function(e){function t(t,r){throw e.call(this,t,r),Dt}i(t,e),t.prototype.sendRequest=function(e){throw Dt}}(Ve);var kt=new Error("ProxyPolicy is not supported in browser environment");!function(e){function t(t,r){throw e.call(this,t,r),kt}i(t,e),t.prototype.sendRequest=function(e){throw kt}}(Ve);var Lt={TooManyRequests:429},jt=function(e){function t(t,r,n){var a=e.call(this,t,r)||this;return a.retryLimit=n,a}return i(t,e),t.prototype.sendRequest=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(r){return[2,this._nextPolicy.sendRequest(e.clone()).then((function(r){return t.retry(e,r,0)}))]}))}))},t.prototype.retry=function(e,r,n){return u(this,void 0,void 0,(function(){var a,i,o;return l(this,(function(s){switch(s.label){case 0:return r.status!==Lt.TooManyRequests?[2,r]:(a=r.headers.get(Ue))&&n<this.retryLimit&&(i=t.parseRetryAfterHeader(a))?[4,w(i)]:[3,3];case 1:return s.sent(),[4,this._nextPolicy.sendRequest(e)];case 2:return o=s.sent(),[2,this.retry(e,o,n+1)];case 3:return[2,r]}}))}))},t.parseRetryAfterHeader=function(e){var r=Number(e);return Number.isNaN(r)?t.parseDateRetryAfterHeader(e):1e3*r},t.parseDateRetryAfterHeader=function(e){try{var t=Date.now(),r=Date.parse(e)-t;return Number.isNaN(r)?void 0:r}catch(e){return}},t}(Ve),Bt=["https://management.windows.net","https://management.chinacloudapi.cn","https://management.usgovcloudapi.net","https://management.cloudapi.de"],Ut=function(){function e(e,t){void 0===t&&(t="https://management.azure.com/.default"),this.azureTokenCredential=e,this.scopes=t}return e.prototype.getToken=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.azureTokenCredential.getToken(this.scopes)];case 1:if(null!==(e=t.sent()))return[2,{accessToken:e.token,tokenType:"Bearer",expiresOn:e.expiresOnTimestamp}];throw new Error("Could find token for scope")}}))}))},e.prototype.signRequest=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(r){switch(r.label){case 0:return[4,this.getToken()];case 1:return t=r.sent(),e.headers.set(Be,t.tokenType+" "+t.accessToken),[2,Promise.resolve(e)]}}))}))},e}(),Vt=function(){function e(e,t){var r,n;if(t||(t={}),t.baseUri&&(this.baseUri=t.baseUri),function(e){const t=e;return t&&"function"==typeof t.getToken&&(void 0===t.signRequest||t.getToken.length>0)}(e)){var a=void 0;(null==t?void 0:t.baseUri)&&Bt.includes(null==t?void 0:t.baseUri)&&(a=t.baseUri+"/.default"),r=new Ut(e,a)}else r=e;if(r&&!r.signRequest)throw new Error("credentials argument needs to implement signRequest method");if(this._withCredentials=t.withCredentials||!1,this._httpClient=t.httpClient||new Ge,this._requestPolicyOptions=new He(t.httpPipelineLogger),Array.isArray(t.requestPolicyFactories))n=t.requestPolicyFactories;else if(n=function(e,t){var r,n,a=[];t.generateClientRequestIdHeader&&a.push((void 0===(r=t.clientRequestIdHeaderName)&&(r="x-ms-client-request-id"),{create:function(e,t){return new ht(e,t,r)}})),e&&("function"==typeof e.create?a.push(e):a.push((n=e,{create:function(e,t){return new It(e,t,n)}})));var i,o,u,l=Ht(t.userAgentHeaderName,Fe),p=Ht(t.userAgent,$e);l&&p&&a.push((o=(i={key:l,value:p})&&null!=i.key?i.key:"x-ms-command-name",u=i&&null!=i.value?i.value:$e(),{create:function(e,t){return new Qe(e,t,o,u)}}));var c,m,d,f,h=s(s({},Rt),t.redirectOptions);return h.handleRedirects&&a.push((void 0===(c=h.maxRetries)&&(c=20),{create:function(e,t){return new qt(e,t,c)}})),a.push((void 0===(m=t.rpRegistrationRetryTimeout)&&(m=30),{create:function(e,t){return new Ot(e,t,m)}})),t.noRetryPolicy||(a.push({create:function(e,t){return new dt(e,t,undefined,undefined,undefined,undefined)}}),a.push({create:function(e,t){return new xt(e,t,void 0,void 0,void 0,void 0)}}),a.push((void 0===d&&(d=3),{create:function(e,t){return new jt(e,t,d)}}))),a.push((f=t.deserializationContentTypes,{create:function(e,t){return new mt(e,f,t)}})),(t.proxySettings||void 0)&&a.push({create:function(e,t){throw kt}}),t.agentSettings&&a.push((t.agentSettings,{create:function(e,t){throw Dt}})),a}(r,t),t.requestPolicyFactories){var i=t.requestPolicyFactories(n);i&&(n=i)}this._requestPolicyFactories=n}return e.prototype.sendRequest=function(e){if(null==e||"object"!=typeof e)throw new Error("options cannot be null or undefined and it must be of type object.");var t,r;try{"object"==typeof(r=e)&&"string"==typeof r.url&&"string"==typeof r.method&&"object"==typeof r.headers&&(0,je.d)(r.headers)&&"function"==typeof r.validateRequestProperties&&"function"==typeof r.prepare&&"function"==typeof r.clone?(e.validateRequestProperties(),t=e):t=(t=new At).prepare(e)}catch(e){return Promise.reject(e)}var n=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(var a=this._requestPolicyFactories.length-1;a>=0;--a)n=this._requestPolicyFactories[a].create(n,this._requestPolicyOptions);return n.sendRequest(t)},e.prototype.sendOperationRequest=function(e,t,r){"function"==typeof e.options&&(r=e.options,e.options=void 0);var n,a=new At;try{var i=t.baseUrl||this.baseUri;if(!i)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");a.method=t.httpMethod,a.operationSpec=t;var o=gt.parse(i);if(t.path&&o.appendPath(t.path),t.urlParameters&&t.urlParameters.length>0)for(var u=0,l=t.urlParameters;u<l.length;u++){var p=l[u],c=Ft(this,e,p,t.serializer);c=t.serializer.serialize(p.mapper,c,Ke(p)),p.skipEncoding||(c=encodeURIComponent(c)),o.replaceAll("{"+(p.mapper.serializedName||Ke(p))+"}",c)}if(t.queryParameters&&t.queryParameters.length>0)for(var m=0,d=t.queryParameters;m<d.length;m++){var f=d[m],h=Ft(this,e,f,t.serializer);if(null!=h){if(h=t.serializer.serialize(f.mapper,h,Ke(f)),null!=f.collectionFormat)if(f.collectionFormat===_.Multi)if(0===h.length)h="";else for(var y in h){var g=h[y];h[y]=null==g?"":g.toString()}else f.collectionFormat!==_.Ssv&&f.collectionFormat!==_.Tsv||(h=h.join(f.collectionFormat));if(!f.skipEncoding)if(Array.isArray(h))for(var y in h)void 0!==h[y]&&null!==h[y]&&(h[y]=encodeURIComponent(h[y]));else h=encodeURIComponent(h);null!=f.collectionFormat&&f.collectionFormat!==_.Multi&&f.collectionFormat!==_.Ssv&&f.collectionFormat!==_.Tsv&&(h=h.join(f.collectionFormat)),o.setQueryParameter(f.mapper.serializedName||Ke(f),h)}}a.url=o.toString();var v=t.contentType||this.requestContentType;if(v&&a.headers.set("Content-Type",v),t.headerParameters)for(var b=0,N=t.headerParameters;b<N.length;b++){var S=N[b],w=Ft(this,e,S,t.serializer);if(null!=w){w=t.serializer.serialize(S.mapper,w,Ke(S));var E=S.mapper.headerCollectionPrefix;if(E)for(var z=0,P=Object.keys(w);z<P.length;z++){var R=P[z];a.headers.set(E+R,w[R])}else a.headers.set(S.mapper.serializedName||Ke(S),w)}}var q=e.options;if(q){if(q.customHeaders)for(var T in q.customHeaders)a.headers.set(T,q.customHeaders[T]);q.abortSignal&&(a.abortSignal=q.abortSignal),q.timeout&&(a.timeout=q.timeout),q.onUploadProgress&&(a.onUploadProgress=q.onUploadProgress),q.onDownloadProgress&&(a.onDownloadProgress=q.onDownloadProgress)}a.withCredentials=this._withCredentials,function(e,t,r,n){if(n.requestBody&&n.requestBody.mapper){t.body=Ft(e,r,n.requestBody,n.serializer);var a=n.requestBody.mapper,i=a.required,o=a.xmlName,s=a.xmlElementName,u=a.serializedName,l=a.type.name;try{if(null!=t.body||i){var p=Ke(n.requestBody);t.body=n.serializer.serialize(a,t.body,p);var c=l===I.Stream;n.isXML?l===I.Sequence?t.body=st(function(e,t){var r;return Array.isArray(e)||(e=[e]),(r={})[t]=e,r}(t.body,s||o||u),{rootName:o||u}):c||(t.body=st(t.body,{rootName:o||u})):c||(t.body=JSON.stringify(t.body))}}catch(e){throw new Error('Error "'+e.message+'" occurred in serializing the payload - '+JSON.stringify(u,void 0,"  ")+".")}}else if(n.formDataParameters&&n.formDataParameters.length>0){t.formData={};for(var m=0,d=n.formDataParameters;m<d.length;m++){var f=d[m],h=Ft(e,r,f,n.serializer);if(null!=h){var y=f.mapper.serializedName||Ke(f);t.formData[y]=n.serializer.serialize(f.mapper,h,Ke(f))}}}}(this,a,e,t),null==a.streamResponseBody&&(a.streamResponseBody=et(t)),n=this.sendRequest(a).then((function(e){return function(e,t){var r,n=e.parsedHeaders,a=t&&t.bodyMapper,i=function(t){return Object.defineProperty(t,"_response",{value:e})};if(a){var o=a.type.name;if("Stream"===o)return i(s(s({},n),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody}));var u="Composite"===o&&a.type.modelProperties||{},l=Object.keys(u).some((function(e){return""===u[e].serializedName}));if("Sequence"===o||l){for(var p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}(Array.isArray(e.parsedBody)?e.parsedBody:[]),c=0,m=Object.keys(u);c<m.length;c++){var d=m[c];u[d].serializedName&&(p[d]=e.parsedBody[d])}if(n)for(var f=0,h=Object.keys(n);f<h.length;f++)p[d=h[f]]=n[d];return i(p),p}if("Composite"===o||"Dictionary"===o)return i(s(s({},n),e.parsedBody))}return a||"HEAD"===e.request.method||("object"!=typeof(r=e.parsedBody)&&"function"!=typeof r||null===r)?i(s(s({},n),{body:e.parsedBody})):i(s(s({},n),e.parsedBody))}(e,t.responses[e.status])}))}catch(e){n=Promise.reject(e)}var O=r;return O&&n.then((function(e){return O(null,e._response.parsedBody,e._response.request,e._response)})).catch((function(e){return O(e)})),n},e}();function Ht(e,t){var r;return"string"==typeof e?r=e:(r=t(),"function"==typeof e&&(r=e(r))),r}function Ft(e,t,r,n){return $t(e,t,r.parameterPath,r.mapper,n)}function $t(e,t,r,n,a){var i;if("string"==typeof r&&(r=[r]),Array.isArray(r)){if(r.length>0){if(n.isConstant)i=n.defaultValue;else{var o=Qt(t,r);o.propertyFound||(o=Qt(e,r));var s=!1;o.propertyFound||(s=n.required||"options"===r[0]&&2===r.length),i=s?n.defaultValue:o.propertyValue}var u=Ze(r,n);a.serialize(n,i,u)}}else for(var l in n.required&&(i={}),r){var p=n.type.modelProperties[l],c=r[l],m=$t(e,t,c,p,a),d=Ze(c,p);a.serialize(p,m,d),void 0!==m&&(i||(i={}),i[l]=m)}return i}function Qt(e,t){for(var r={propertyFound:!1},n=0;n<t.length;++n){var a=t[n];if(null==e||!(a in e))break;e=e[a]}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}var Wt=function(e){function t(t,r,n){var a=this;if(null==r)throw new Error("'endpoint' cannot be null.");if(null==t)throw new Error("'credentials' cannot be null.");if(n||(n={}),!n.userAgent){var i=$e();n.userAgent="@azure/cognitiveservices-computervision/8.1.0 "+i}return(a=e.call(this,t,n)||this).baseUri="{Endpoint}/vision/v3.2",a.requestContentType="application/json; charset=utf-8",a.endpoint=r,a.credentials=t,a}return i(t,e),t}(Vt),Gt=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return i(t,e),t.prototype.analyzeImage=function(e,t,r){return this.sendOperationRequest({url:e,options:t},Xt,r)},t.prototype.describeImage=function(e,t,r){return this.sendOperationRequest({url:e,options:t},Yt,r)},t.prototype.detectObjects=function(e,t,r){return this.sendOperationRequest({url:e,options:t},Kt,r)},t.prototype.listModels=function(e,t){return this.sendOperationRequest({options:e},Zt,t)},t.prototype.analyzeImageByDomain=function(e,t,r,n){return this.sendOperationRequest({model:e,url:t,options:r},er,n)},t.prototype.recognizePrintedText=function(e,t,r,n){return this.sendOperationRequest({detectOrientation:e,url:t,options:r},tr,n)},t.prototype.tagImage=function(e,t,r){return this.sendOperationRequest({url:e,options:t},rr,r)},t.prototype.generateThumbnail=function(e,t,r,n,a){return this.sendOperationRequest({width:e,height:t,url:r,options:n},nr,a)},t.prototype.getAreaOfInterest=function(e,t,r){return this.sendOperationRequest({url:e,options:t},ar,r)},t.prototype.read=function(e,t,r){return this.sendOperationRequest({url:e,options:t},ir,r)},t.prototype.getReadResult=function(e,t,r){return this.sendOperationRequest({operationId:e,options:t},or,r)},t.prototype.analyzeImageInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},sr,r)},t.prototype.getAreaOfInterestInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},ur,r)},t.prototype.describeImageInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},lr,r)},t.prototype.detectObjectsInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},pr,r)},t.prototype.generateThumbnailInStream=function(e,t,r,n,a){return this.sendOperationRequest({width:e,height:t,image:r,options:n},cr,a)},t.prototype.analyzeImageByDomainInStream=function(e,t,r,n){return this.sendOperationRequest({model:e,image:t,options:r},mr,n)},t.prototype.recognizePrintedTextInStream=function(e,t,r,n){return this.sendOperationRequest({detectOrientation:e,image:t,options:r},dr,n)},t.prototype.tagImageInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},fr,r)},t.prototype.readInStream=function(e,t,r){return this.sendOperationRequest({image:e,options:t},hr,r)},t}(Wt),Jt=new P(n),Xt={httpMethod:"POST",path:"analyze",urlParameters:[Re],queryParameters:[ke,ze,Te,Ee,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:X},default:{bodyMapper:ce}},serializer:Jt},Yt={httpMethod:"POST",path:"describe",urlParameters:[Re],queryParameters:[_e,Te,Ee,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:Y},default:{bodyMapper:ce}},serializer:Jt},Kt={httpMethod:"POST",path:"detect",urlParameters:[Re],queryParameters:[xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:K},default:{bodyMapper:ce}},serializer:Jt},Zt={httpMethod:"GET",path:"models",urlParameters:[Re],responses:{200:{bodyMapper:ee},default:{bodyMapper:ce}},serializer:Jt},er={httpMethod:"POST",path:"models/{model}/analyze",urlParameters:[Re,Ie],queryParameters:[Te,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:te},default:{bodyMapper:ce}},serializer:Jt},tr={httpMethod:"POST",path:"ocr",urlParameters:[Re],queryParameters:[Pe,Oe,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:ie},default:{bodyMapper:ce}},serializer:Jt},rr={httpMethod:"POST",path:"tag",urlParameters:[Re],queryParameters:[Te,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:oe},default:{bodyMapper:ce}},serializer:Jt},nr={httpMethod:"POST",path:"generateThumbnail",urlParameters:[Re],queryParameters:[Le,qe,De,xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}}},default:{}},serializer:Jt},ar={httpMethod:"POST",path:"areaOfInterest",urlParameters:[Re],queryParameters:[xe],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{200:{bodyMapper:se},default:{bodyMapper:ce}},serializer:Jt},ir={httpMethod:"POST",path:"read/analyze",urlParameters:[Re],queryParameters:[Ce,Me,xe,Ae],requestBody:{parameterPath:{url:"url"},mapper:s(s({},ue),{required:!0})},responses:{202:{headersMapper:Ne},default:{bodyMapper:be,headersMapper:Ne}},serializer:Jt},or={httpMethod:"GET",path:"read/analyzeResults/{operationId}",urlParameters:[Re,{parameterPath:"operationId",mapper:{required:!0,serializedName:"operationId",type:{name:"Uuid"}}}],responses:{200:{bodyMapper:ve},default:{bodyMapper:be}},serializer:Jt},sr={httpMethod:"POST",path:"analyze",urlParameters:[Re],queryParameters:[ke,ze,Te,Ee,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:X},default:{bodyMapper:ce}},serializer:Jt},ur={httpMethod:"POST",path:"areaOfInterest",urlParameters:[Re],queryParameters:[xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:se},default:{bodyMapper:ce}},serializer:Jt},lr={httpMethod:"POST",path:"describe",urlParameters:[Re],queryParameters:[_e,Te,Ee,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:Y},default:{bodyMapper:ce}},serializer:Jt},pr={httpMethod:"POST",path:"detect",urlParameters:[Re],queryParameters:[xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:K},default:{bodyMapper:ce}},serializer:Jt},cr={httpMethod:"POST",path:"generateThumbnail",urlParameters:[Re],queryParameters:[Le,qe,De,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}}},default:{}},serializer:Jt},mr={httpMethod:"POST",path:"models/{model}/analyze",urlParameters:[Re,Ie],queryParameters:[Te,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:te},default:{bodyMapper:ce}},serializer:Jt},dr={httpMethod:"POST",path:"ocr",urlParameters:[Re],queryParameters:[Pe,Oe,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:ie},default:{bodyMapper:ce}},serializer:Jt},fr={httpMethod:"POST",path:"tag",urlParameters:[Re],queryParameters:[Te,xe],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{200:{bodyMapper:oe},default:{bodyMapper:ce}},serializer:Jt},hr={httpMethod:"POST",path:"read/analyze",urlParameters:[Re],queryParameters:[Ce,Me,xe,Ae],requestBody:{parameterPath:"image",mapper:{required:!0,serializedName:"Image",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{202:{headersMapper:Se},default:{bodyMapper:be,headersMapper:Se}},serializer:Jt}},970:(e,t,r)=>{function n(e){return e.toLowerCase()}function a(e){return!(!e||"object"!=typeof e)&&"function"==typeof e.rawHeaders&&"function"==typeof e.clone&&"function"==typeof e.get&&"function"==typeof e.set&&"function"==typeof e.contains&&"function"==typeof e.remove&&"function"==typeof e.headersArray&&"function"==typeof e.headerValues&&"function"==typeof e.headerNames&&"function"==typeof e.toJson}r.d(t,{d:()=>a,W:()=>i});var i=function(){function e(e){if(this._headersMap={},e)for(var t in e)this.set(t,e[t])}return e.prototype.set=function(e,t){this._headersMap[n(e)]={name:e,value:t.toString()}},e.prototype.get=function(e){var t=this._headersMap[n(e)];return t?t.value:void 0},e.prototype.contains=function(e){return!!this._headersMap[n(e)]},e.prototype.remove=function(e){var t=this.contains(e);return delete this._headersMap[n(e)],t},e.prototype.rawHeaders=function(){var e={};for(var t in this._headersMap){var r=this._headersMap[t];e[r.name.toLowerCase()]=r.value}return e},e.prototype.headersArray=function(){var e=[];for(var t in this._headersMap)e.push(this._headersMap[t]);return e},e.prototype.headerNames=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].name);return e},e.prototype.headerValues=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].value);return e},e.prototype.toJson=function(){return this.rawHeaders()},e.prototype.toString=function(){return JSON.stringify(this.toJson())},e.prototype.clone=function(){return new e(this.rawHeaders())},e}()},62:(e,t,r)=>{r.d(t,{Ct:()=>a});var n=r(970),a=function(){function e(e){if(!e||e&&!e.inHeader&&!e.inQuery)throw new Error('options cannot be null or undefined. Either "inHeader" or "inQuery" property of the options object needs to be provided.');this.inHeader=e.inHeader,this.inQuery=e.inQuery}return e.prototype.signRequest=function(e){if(!e)return Promise.reject(new Error('webResource cannot be null or undefined and must be of type "object".'));if(this.inHeader)for(var t in e.headers||(e.headers=new n.W),this.inHeader)e.headers.set(t,this.inHeader[t]);if(this.inQuery){if(!e.url)return Promise.reject(new Error("url cannot be null in the request object."));for(var r in e.url.indexOf("?")<0&&(e.url+="?"),this.inQuery)e.url.endsWith("?")||(e.url+="&"),e.url+=r+"="+this.inQuery[r]}return Promise.resolve(e)},e}()},641:(e,t,r)=>{function n(e,...t){return(...r)=>e(...t,...r)}function a(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,{default:()=>ht,apply:()=>n,applyEach:()=>C,applyEachSeries:()=>x,asyncify:()=>c,auto:()=>D,autoInject:()=>V,cargo:()=>Q,cargoQueue:()=>W,compose:()=>X,concat:()=>Z,concatLimit:()=>K,concatSeries:()=>ee,constant:()=>te,detect:()=>ne,detectLimit:()=>ae,detectSeries:()=>ie,dir:()=>se,doUntil:()=>le,doWhilst:()=>ue,each:()=>ce,eachLimit:()=>me,eachOf:()=>T,eachOfLimit:()=>P,eachOfSeries:()=>_,eachSeries:()=>de,ensureAsync:()=>fe,every:()=>he,everyLimit:()=>ye,everySeries:()=>ge,filter:()=>Se,filterLimit:()=>we,filterSeries:()=>Ee,forever:()=>ze,groupBy:()=>Re,groupByLimit:()=>Pe,groupBySeries:()=>qe,log:()=>Te,map:()=>O,mapLimit:()=>Y,mapSeries:()=>I,mapValues:()=>Ce,mapValuesLimit:()=>Oe,mapValuesSeries:()=>_e,memoize:()=>Ie,nextTick:()=>xe,parallel:()=>Ae,parallelLimit:()=>De,priorityQueue:()=>Ue,queue:()=>ke,race:()=>Ve,reduce:()=>G,reduceRight:()=>He,reflect:()=>Fe,reflectAll:()=>$e,reject:()=>We,rejectLimit:()=>Ge,rejectSeries:()=>Je,retry:()=>Ye,retryable:()=>Ze,seq:()=>J,series:()=>et,setImmediate:()=>p,some:()=>tt,someLimit:()=>rt,someSeries:()=>nt,sortBy:()=>at,timeout:()=>it,times:()=>st,timesLimit:()=>ot,timesSeries:()=>ut,transform:()=>lt,tryEach:()=>pt,unmemoize:()=>ct,until:()=>dt,waterfall:()=>ft,whilst:()=>mt,all:()=>he,allLimit:()=>ye,allSeries:()=>ge,any:()=>tt,anyLimit:()=>rt,anySeries:()=>nt,find:()=>ne,findLimit:()=>ae,findSeries:()=>ie,flatMap:()=>Z,flatMapLimit:()=>K,flatMapSeries:()=>ee,forEach:()=>ce,forEachSeries:()=>de,forEachLimit:()=>me,forEachOf:()=>T,forEachOfSeries:()=>_,forEachOfLimit:()=>P,inject:()=>G,foldl:()=>G,foldr:()=>He,select:()=>Se,selectLimit:()=>we,selectSeries:()=>Ee,wrapSync:()=>c,during:()=>mt,doDuring:()=>ue});var i="function"==typeof queueMicrotask&&queueMicrotask,o="function"==typeof setImmediate&&setImmediate,s="object"==typeof process&&"function"==typeof process.nextTick;function u(e){setTimeout(e,0)}function l(e){return(t,...r)=>e((()=>t(...r)))}var p=l(i?queueMicrotask:o?setImmediate:s?process.nextTick:u);function c(e){return f(e)?function(...t){const r=t.pop();return m(e.apply(this,t),r)}:a((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return m(n,r);r(null,n)}))}function m(e,t){return e.then((e=>{d(t,null,e)}),(e=>{d(t,e&&e.message?e:new Error(e))}))}function d(e,t,r){try{e(t,r)}catch(e){p((e=>{throw e}),e)}}function f(e){return"AsyncFunction"===e[Symbol.toStringTag]}function h(e){if("function"!=typeof e)throw new Error("expected a function");return f(e)?c(e):e}function y(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,a)=>{r[t-1]=(e,...t)=>{if(e)return a(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}}function g(e){return function(t,...r){return y((function(n){var a=this;return e(t,((e,t)=>{h(e).apply(a,r.concat(t))}),n)}))}}function v(e,t,r,n){t=t||[];var a=[],i=0,o=h(r);return e(t,((e,t,r)=>{var n=i++;o(e,((e,t)=>{a[n]=t,r(e)}))}),(e=>{n(e,a)}))}function b(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const N={};function S(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function w(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function E(e,t,r,n){let a=!1,i=!1,o=!1,s=0,u=0;function l(){s>=t||o||a||(o=!0,e.next().then((({value:e,done:t})=>{if(!i&&!a){if(o=!1,t)return a=!0,void(s<=0&&n(null));s++,r(e,u,p),u++,l()}})).catch(c))}function p(e,t){if(s-=1,!i)return e?c(e):!1===e?(a=!0,void(i=!0)):t===N||a&&s<=0?(a=!0,n(null)):void l()}function c(e){i||(o=!1,a=!0,n(e))}l()}var z=e=>(t,r,n)=>{if(n=S(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if("AsyncGenerator"===t[Symbol.toStringTag])return E(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return E(t[Symbol.asyncIterator](),e,r,n);var a=function(e){if(b(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,a,i=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return i?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(i):(r=(t=e)?Object.keys(t):[],n=-1,a=r.length,function e(){var i=r[++n];return"__proto__"===i?e():n<a?{value:t[i],key:i}:null})}(t),i=!1,o=!1,s=0,u=!1;function l(e,t){if(!o)if(s-=1,e)i=!0,n(e);else if(!1===e)i=!0,o=!0;else{if(t===N||i&&s<=0)return i=!0,n(null);u||p()}}function p(){for(u=!0;s<e&&!i;){var t=a();if(null===t)return i=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,w(l))}u=!1}p()},P=y((function(e,t,r,n){return z(t)(e,h(r),n)}),4);function R(e,t,r){r=S(r);var n=0,a=0,{length:i}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?r(e):++a!==i&&t!==N||r(null))}for(0===i&&r(null);n<i;n++)t(e[n],n,w(s))}function q(e,t,r){return P(e,1/0,t,r)}var T=y((function(e,t,r){return(b(e)?R:q)(e,h(t),r)}),3),O=y((function(e,t,r){return v(T,e,t,r)}),3),C=g(O),_=y((function(e,t,r){return P(e,1,t,r)}),3),I=y((function(e,t,r){return v(_,e,t,r)}),3),x=g(I);const M=Symbol("promiseCallback");function A(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[M]=new Promise(((r,n)=>{e=r,t=n})),r}function D(e,t,r){"number"!=typeof t&&(r=t,t=null),r=S(r||A());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var a={},i=0,o=!1,s=!1,u=Object.create(null),l=[],p=[],c={};function m(e,t){l.push((()=>function(e,t){if(!s){var n=w(((t,...n)=>{if(i--,!1!==t)if(n.length<2&&([n]=n),t){var l={};if(Object.keys(a).forEach((e=>{l[e]=a[e]})),l[e]=n,s=!0,u=Object.create(null),o)return;r(t,l)}else a[e]=n,(u[e]||[]).forEach((e=>e())),d();else o=!0}));i++;var l=h(t[t.length-1]);t.length>1?l(a,n):l(n)}}(e,t)))}function d(){if(!o){if(0===l.length&&0===i)return r(null,a);for(;l.length&&i<t;)l.shift()()}}function f(t){var r=[];return Object.keys(e).forEach((n=>{const a=e[n];Array.isArray(a)&&a.indexOf(t)>=0&&r.push(n)})),r}return Object.keys(e).forEach((t=>{var r=e[t];if(!Array.isArray(r))return m(t,[r]),void p.push(t);var n=r.slice(0,r.length-1),a=n.length;if(0===a)return m(t,r),void p.push(t);c[t]=a,n.forEach((i=>{if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+n.join(", "));var o,s;(s=u[o=i])||(s=u[o]=[]),s.push((()=>{0==--a&&m(t,r)}))}))})),function(){for(var e=0;p.length;)e++,f(p.pop()).forEach((e=>{0==--c[e]&&p.push(e)}));if(e!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),r[M]}var k=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,L=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,j=/,/,B=/(=.+)?(\s*)$/,U=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function V(e,t){var r={};return Object.keys(e).forEach((t=>{var n,a=e[t],i=f(a),o=!i&&1===a.length||i&&0===a.length;if(Array.isArray(a))n=[...a],a=n.pop(),r[t]=n.concat(n.length>0?s:a);else if(o)r[t]=a;else{if(n=function(e){const t=e.toString().replace(U,"");let r=t.match(k);if(r||(r=t.match(L)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(j).map((e=>e.replace(B,"").trim()))}(a),0===a.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(s)}function s(e,t){var r=n.map((t=>e[t]));r.push(t),h(a)(...r)}})),D(r,t)}class H{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):F(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):F(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function F(e,t){e.length=1,e.head=e.tail=t}function $(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=h(e),a=0,i=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(o[e]=o[e].filter((e=>e!==t))):o[e]=[]:Object.keys(o).forEach((e=>o[e]=[]))}function u(e,...t){o[e].forEach((e=>e(...t)))}var l=!1;function c(e,t,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var a,i;function o(e,...t){return e?r?i(e):a():t.length<=1?a(t[0]):void a(t)}g.started=!0;var s={data:e,callback:r?o:n||o};if(t?g._tasks.unshift(s):g._tasks.push(s),l||(l=!0,p((()=>{l=!1,g.process()}))),r||!n)return new Promise(((e,t)=>{a=e,i=t}))}function m(e){return function(t,...r){a-=1;for(var n=0,o=e.length;n<o;n++){var s=e[n],l=i.indexOf(s);0===l?i.shift():l>0&&i.splice(l,1),s.callback(t,...r),null!=t&&u("error",t,s.data)}a<=g.concurrency-g.buffer&&u("unsaturated"),g.idle()&&u("drain"),g.process()}}function d(e){return!(0!==e.length||!g.idle()||(p((()=>u("drain"))),0))}const f=e=>t=>{if(!t)return new Promise(((t,r)=>{!function(e,n){const a=(...n)=>{s(e,a),((e,n)=>{if(e)return r(e);t(n)})(...n)};o[e].push(a)}(e)}));s(e),function(e,t){o[e].push(t)}(e,t)};var y=!1,g={_tasks:new H,*[Symbol.iterator](){yield*g._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>c(e,!1,!1,t)))}return c(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>c(e,!1,!0,t)))}return c(e,!1,!0,t)},kill(){s(),g._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>c(e,!0,!1,t)))}return c(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>c(e,!0,!0,t)))}return c(e,!0,!0,t)},remove(e){g._tasks.remove(e)},process(){if(!y){for(y=!0;!g.paused&&a<g.concurrency&&g._tasks.length;){var e=[],t=[],r=g._tasks.length;g.payload&&(r=Math.min(r,g.payload));for(var o=0;o<r;o++){var s=g._tasks.shift();e.push(s),i.push(s),t.push(s.data)}a+=1,0===g._tasks.length&&u("empty"),a===g.concurrency&&u("saturated");var l=w(m(e));n(t,l)}y=!1}},length:()=>g._tasks.length,running:()=>a,workersList:()=>i,idle:()=>g._tasks.length+a===0,pause(){g.paused=!0},resume(){!1!==g.paused&&(g.paused=!1,p(g.process))}};return Object.defineProperties(g,{saturated:{writable:!1,value:f("saturated")},unsaturated:{writable:!1,value:f("unsaturated")},empty:{writable:!1,value:f("empty")},drain:{writable:!1,value:f("drain")},error:{writable:!1,value:f("error")}}),g}function Q(e,t){return $(e,1,t)}function W(e,t,r){return $(e,t,r)}var G=y((function(e,t,r,n){n=S(n);var a=h(r);return _(e,((e,r,n)=>{a(t,e,((e,r)=>{t=r,n(e)}))}),(e=>n(e,t)))}),4);function J(...e){var t=e.map(h);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=A(),G(t,e,((e,t,n)=>{t.apply(r,e.concat(((e,...t)=>{n(e,t)})))}),((e,t)=>n(e,...t))),n[M]}}function X(...e){return J(...e.reverse())}var Y=y((function(e,t,r,n){return v(z(t),e,r,n)}),4),K=y((function(e,t,r,n){var a=h(r);return Y(e,t,((e,t)=>{a(e,((e,...r)=>e?t(e):t(e,r)))}),((e,t)=>{for(var r=[],a=0;a<t.length;a++)t[a]&&(r=r.concat(...t[a]));return n(e,r)}))}),4),Z=y((function(e,t,r){return K(e,1/0,t,r)}),3),ee=y((function(e,t,r){return K(e,1,t,r)}),3);function te(...e){return function(...t){return t.pop()(null,...e)}}function re(e,t){return(r,n,a,i)=>{var o,s=!1;const u=h(a);r(n,((r,n,a)=>{u(r,((n,i)=>n||!1===n?a(n):e(i)&&!o?(s=!0,o=t(!0,r),a(null,N)):void a()))}),(e=>{if(e)return i(e);i(null,s?o:t(!1))}))}}var ne=y((function(e,t,r){return re((e=>e),((e,t)=>t))(T,e,t,r)}),3),ae=y((function(e,t,r,n){return re((e=>e),((e,t)=>t))(z(t),e,r,n)}),4),ie=y((function(e,t,r){return re((e=>e),((e,t)=>t))(z(1),e,t,r)}),3);function oe(e){return(t,...r)=>h(t)(...r,((t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach((t=>console[e](t))))}))}var se=oe("dir"),ue=y((function(e,t,r){r=w(r);var n,a=h(e),i=h(t);function o(e,...t){if(e)return r(e);!1!==e&&(n=t,i(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void a(o):r(null,...n):void 0}return s(null,!0)}),3);function le(e,t,r){const n=h(t);return ue(e,((...e)=>{const t=e.pop();n(...e,((e,r)=>t(e,!r)))}),r)}function pe(e){return(t,r,n)=>e(t,n)}var ce=y((function(e,t,r){return T(e,pe(h(t)),r)}),3),me=y((function(e,t,r,n){return z(t)(e,pe(h(r)),n)}),4),de=y((function(e,t,r){return me(e,1,t,r)}),3);function fe(e){return f(e)?e:function(...t){var r=t.pop(),n=!0;t.push(((...e)=>{n?p((()=>r(...e))):r(...e)})),e.apply(this,t),n=!1}}var he=y((function(e,t,r){return re((e=>!e),(e=>!e))(T,e,t,r)}),3),ye=y((function(e,t,r,n){return re((e=>!e),(e=>!e))(z(t),e,r,n)}),4),ge=y((function(e,t,r){return re((e=>!e),(e=>!e))(_,e,t,r)}),3);function ve(e,t,r,n){var a=new Array(t.length);e(t,((e,t,n)=>{r(e,((e,r)=>{a[t]=!!r,n(e)}))}),(e=>{if(e)return n(e);for(var r=[],i=0;i<t.length;i++)a[i]&&r.push(t[i]);n(null,r)}))}function be(e,t,r,n){var a=[];e(t,((e,t,n)=>{r(e,((r,i)=>{if(r)return n(r);i&&a.push({index:t,value:e}),n(r)}))}),(e=>{if(e)return n(e);n(null,a.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function Ne(e,t,r,n){return(b(t)?ve:be)(e,t,h(r),n)}var Se=y((function(e,t,r){return Ne(T,e,t,r)}),3),we=y((function(e,t,r,n){return Ne(z(t),e,r,n)}),4),Ee=y((function(e,t,r){return Ne(_,e,t,r)}),3),ze=y((function(e,t){var r=w(t),n=h(fe(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2),Pe=y((function(e,t,r,n){var a=h(r);return Y(e,t,((e,t)=>{a(e,((r,n)=>r?t(r):t(r,{key:n,val:e})))}),((e,t)=>{for(var r={},{hasOwnProperty:a}=Object.prototype,i=0;i<t.length;i++)if(t[i]){var{key:o}=t[i],{val:s}=t[i];a.call(r,o)?r[o].push(s):r[o]=[s]}return n(e,r)}))}),4);function Re(e,t,r){return Pe(e,1/0,t,r)}function qe(e,t,r){return Pe(e,1,t,r)}var Te=oe("log"),Oe=y((function(e,t,r,n){n=S(n);var a={},i=h(r);return z(t)(e,((e,t,r)=>{i(e,t,((e,n)=>{if(e)return r(e);a[t]=n,r(e)}))}),(e=>n(e,a)))}),4);function Ce(e,t,r){return Oe(e,1/0,t,r)}function _e(e,t,r){return Oe(e,1,t,r)}function Ie(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),i=h(e),o=a(((e,a)=>{var o=t(...e);o in r?p((()=>a(null,...r[o]))):o in n?n[o].push(a):(n[o]=[a],i(...e,((e,...t)=>{e||(r[o]=t);var a=n[o];delete n[o];for(var i=0,s=a.length;i<s;i++)a[i](e,...t)})))}));return o.memo=r,o.unmemoized=e,o}var xe=l(s?process.nextTick:o?setImmediate:u),Me=y(((e,t,r)=>{var n=b(t)?[]:{};e(t,((e,t,r)=>{h(e)(((e,...a)=>{a.length<2&&([a]=a),n[t]=a,r(e)}))}),(e=>r(e,n)))}),3);function Ae(e,t){return Me(T,e,t)}function De(e,t,r){return Me(z(t),e,r)}function ke(e,t){var r=h(e);return $(((e,t)=>{r(e[0],t)}),t,1)}class Le{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Be(this.heap[e],this.heap[t=je(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Be(this.heap[t+1],this.heap[t])&&(t+=1),!Be(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=je(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function je(e){return(e+1>>1)-1}function Be(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ue(e,t){var r=ke(e,t),n=!1;return r._tasks=new Le,r.push=function(e,t=0,a=(()=>{})){if("function"!=typeof a)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return p((()=>r.drain()));for(var i=0,o=e.length;i<o;i++){var s={data:e[i],priority:t,callback:a};r._tasks.push(s)}n||(n=!0,p((()=>{n=!1,r.process()})))},delete r.unshift,r}var Ve=y((function(e,t){if(t=S(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)h(e[r])(t)}),2);function He(e,t,r,n){var a=[...e].reverse();return G(a,t,r,n)}function Fe(e){var t=h(e);return a((function(e,r){return e.push(((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var a=t;t.length<=1&&([a]=t),n.value=a}r(null,n)})),t.apply(this,e)}))}function $e(e){var t;return Array.isArray(e)?t=e.map(Fe):(t={},Object.keys(e).forEach((r=>{t[r]=Fe.call(this,e[r])}))),t}function Qe(e,t,r,n){const a=h(r);return Ne(e,t,((e,t)=>{a(e,((e,r)=>{t(e,!r)}))}),n)}var We=y((function(e,t,r){return Qe(T,e,t,r)}),3),Ge=y((function(e,t,r,n){return Qe(z(t),e,r,n)}),4),Je=y((function(e,t,r){return Qe(_,e,t,r)}),3);function Xe(e){return function(){return e}}function Ye(e,t,r){var n={times:5,intervalFunc:Xe(0)};if(arguments.length<3&&"function"==typeof e?(r=t||A(),t=e):(Ke(n,e),r=r||A()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=h(t),i=1;function o(){a(((e,...t)=>{!1!==e&&(e&&i++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(o,n.intervalFunc(i-1)):r(e,...t))}))}return o(),r[M]}function Ke(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Xe(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}function Ze(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;f(t)&&(r+=1);var n=h(t);return a(((t,a)=>{function i(e){n(...t,e)}return(t.length<r-1||null==a)&&(t.push(a),a=A()),e?Ye(e,i,a):Ye(i,a),a[M]}))}function et(e,t){return Me(_,e,t)}var tt=y((function(e,t,r){return re(Boolean,(e=>e))(T,e,t,r)}),3),rt=y((function(e,t,r,n){return re(Boolean,(e=>e))(z(t),e,r,n)}),4),nt=y((function(e,t,r){return re(Boolean,(e=>e))(_,e,t,r)}),3),at=y((function(e,t,r){var n=h(t);return O(e,((e,t)=>{n(e,((r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})}))}),((e,t)=>{if(e)return r(e);r(null,t.sort(a).map((e=>e.value)))}));function a(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3);function it(e,t,r){var n=h(e);return a(((a,i)=>{var o,s=!1;a.push(((...e)=>{s||(i(...e),clearTimeout(o))})),o=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,i(n)}),t),n(...a)}))}function ot(e,t,r,n){var a=h(r);return Y(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,a,n)}function st(e,t,r){return ot(e,1/0,t,r)}function ut(e,t,r){return ot(e,1,t,r)}function lt(e,t,r,n){arguments.length<=3&&"function"==typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=S(n||A());var a=h(r);return T(e,((e,r,n)=>{a(t,e,r,n)}),(e=>n(e,t))),n[M]}var pt=y((function(e,t){var r,n=null;return de(e,((e,t)=>{h(e)(((e,...a)=>{if(!1===e)return t(e);a.length<2?[r]=a:r=a,n=e,t(e?null:{})}))}),(()=>t(n,r)))}));function ct(e){return(...t)=>(e.unmemoized||e)(...t)}var mt=y((function(e,t,r){r=w(r);var n=h(t),a=h(e),i=[];function o(e,...t){if(e)return r(e);i=t,!1!==e&&a(s)}function s(e,t){return e?r(e):!1!==e?t?void n(o):r(null,...i):void 0}return a(s)}),3);function dt(e,t,r){const n=h(e);return mt((e=>n(((t,r)=>e(t,!r)))),t,r)}var ft=y((function(e,t){if(t=S(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){h(e[r++])(...t,w(a))}function a(a,...i){if(!1!==a)return a||r===e.length?t(a,...i):void n(i)}n([])}));const ht={apply:n,applyEach:C,applyEachSeries:x,asyncify:c,auto:D,autoInject:V,cargo:Q,cargoQueue:W,compose:X,concat:Z,concatLimit:K,concatSeries:ee,constant:te,detect:ne,detectLimit:ae,detectSeries:ie,dir:se,doUntil:le,doWhilst:ue,each:ce,eachLimit:me,eachOf:T,eachOfLimit:P,eachOfSeries:_,eachSeries:de,ensureAsync:fe,every:he,everyLimit:ye,everySeries:ge,filter:Se,filterLimit:we,filterSeries:Ee,forever:ze,groupBy:Re,groupByLimit:Pe,groupBySeries:qe,log:Te,map:O,mapLimit:Y,mapSeries:I,mapValues:Ce,mapValuesLimit:Oe,mapValuesSeries:_e,memoize:Ie,nextTick:xe,parallel:Ae,parallelLimit:De,priorityQueue:Ue,queue:ke,race:Ve,reduce:G,reduceRight:He,reflect:Fe,reflectAll:$e,reject:We,rejectLimit:Ge,rejectSeries:Je,retry:Ye,retryable:Ze,seq:J,series:et,setImmediate:p,some:tt,someLimit:rt,someSeries:nt,sortBy:at,timeout:it,times:st,timesLimit:ot,timesSeries:ut,transform:lt,tryEach:pt,unmemoize:ct,until:dt,waterfall:ft,whilst:mt,all:he,allLimit:ye,allSeries:ge,any:tt,anyLimit:rt,anySeries:nt,find:ne,findLimit:ae,findSeries:ie,flatMap:Z,flatMapLimit:K,flatMapSeries:ee,forEach:ce,forEachSeries:de,forEachLimit:me,forEachOf:T,forEachOfSeries:_,forEachOfLimit:P,inject:G,foldl:G,foldr:He,select:Se,selectLimit:we,selectSeries:Ee,wrapSync:c,during:mt,doDuring:ue}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(403),r(219)})();